<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=1200">
<title>Tasko ‚Äì App Prototype (Blue)</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --blue:        #2563eb;
    --blue-dark:   #1d4ed8;
    --blue-deep:   #1e3a8a;
    --blue-mid:    #3b82f6;
    --blue-light:  #eff6ff;
    --blue-pale:   #dbeafe;
    --accent:      #06b6d4;
    --accent-light:#ecfeff;
    --white:       #ffffff;
    --gray-50:     #f8fafc;
    --gray-100:    #f1f5f9;
    --gray-200:    #e2e8f0;
    --gray-300:    #cbd5e1;
    --gray-400:    #94a3b8;
    --gray-500:    #64748b;
    --gray-700:    #334155;
    --gray-900:    #0f172a;
    --orange:      #f59e0b;
    --red:         #ef4444;
    --green:       #10b981;
    --shadow-sm:   0 1px 3px rgba(37,99,235,0.08);
    --shadow-md:   0 4px 20px rgba(37,99,235,0.12);
    --shadow-lg:   0 8px 40px rgba(37,99,235,0.18);
    --radius:      18px;
    --radius-sm:   12px;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: #0c1445;
    background-image:
      radial-gradient(ellipse at 20% 50%, rgba(37,99,235,0.3) 0%, transparent 60%),
      radial-gradient(ellipse at 80% 20%, rgba(6,182,212,0.2) 0%, transparent 50%);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow: hidden;
  }

  .phone-wrapper {
    display: flex;
    align-items: center;
    gap: 36px;
  }

  /* PHONE FRAME */
  .phone-frame {
    width: 375px;
    height: 812px;
    background: #000;
    border-radius: 52px;
    border: 3px solid #1e293b;
    box-shadow:
      0 50px 120px rgba(0,0,0,0.8),
      0 0 0 1px #2d3748,
      inset 0 0 0 1px #374151;
    overflow: hidden;
    position: relative;
    flex-shrink: 0;
  }

  .phone-notch {
    position: absolute;
    top: 0; left: 50%;
    transform: translateX(-50%);
    width: 120px; height: 30px;
    background: #000;
    border-radius: 0 0 20px 20px;
    z-index: 100;
  }

  .phone-screen {
    width: 100%; height: 100%;
    overflow: hidden;
    background: var(--white);
    position: relative;
  }

  /* SCREENS */
  .screen {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: var(--white);
    display: none;
    flex-direction: column;
    overflow: hidden;
  }

  .screen.active {
    display: flex;
    animation: slideIn 0.3s cubic-bezier(0.34, 1.08, 0.64, 1);
  }

  @keyframes slideIn {
    from { transform: translateX(100%); opacity: 0.6; }
    to   { transform: translateX(0);    opacity: 1;   }
  }

  /* STATUS BAR */
  .status-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 40px 22px 8px;
    font-size: 11px;
    font-weight: 700;
    color: var(--gray-700);
    flex-shrink: 0;
    z-index: 10;
    letter-spacing: 0.2px;
  }

  .status-bar.light { color: rgba(255,255,255,0.9); }

  /* TOP NAV */
  .top-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 18px 12px;
    background: var(--white);
    border-bottom: 1px solid var(--gray-100);
    flex-shrink: 0;
  }

  .nav-title {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 17px;
    font-weight: 700;
    color: var(--gray-900);
  }

  .nav-btn {
    width: 36px; height: 36px;
    border: none;
    background: var(--gray-100);
    border-radius: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    color: var(--gray-700);
    transition: all 0.2s;
    font-weight: 700;
  }

  .nav-btn:hover { background: var(--blue-light); color: var(--blue); }

  /* SCROLL */
  .scroll-content {
    flex: 1;
    overflow-y: auto;
    padding-bottom: 80px;
    scrollbar-width: none;
  }
  .scroll-content::-webkit-scrollbar { display: none; }

  /* BOTTOM NAV */
  .bottom-nav {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    background: var(--white);
    border-top: 1px solid var(--gray-100);
    display: flex;
    justify-content: space-around;
    padding: 10px 0 26px;
    z-index: 50;
    box-shadow: 0 -4px 24px rgba(37,99,235,0.08);
  }

  .bnav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 3px;
    cursor: pointer;
    padding: 4px 14px;
    border-radius: 12px;
    transition: all 0.2s;
    font-size: 10px;
    color: var(--gray-400);
    font-weight: 600;
  }

  .bnav-item.active { color: var(--blue); }
  .bnav-item .bnav-icon { font-size: 22px; }
  .bnav-dot {
    width: 4px; height: 4px;
    border-radius: 50%;
    background: var(--blue);
    opacity: 0;
    margin-top: 1px;
  }
  .bnav-item.active .bnav-dot { opacity: 1; }

  /* BUTTONS */
  .btn-primary {
    background: linear-gradient(135deg, var(--blue-mid), var(--blue-dark));
    color: white;
    border: none;
    border-radius: 14px;
    padding: 16px 24px;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    width: 100%;
    font-family: 'DM Sans', sans-serif;
    box-shadow: 0 4px 20px rgba(37,99,235,0.38);
    transition: all 0.2s;
    letter-spacing: 0.2px;
  }

  .btn-primary:active { transform: scale(0.97); }

  .btn-secondary {
    background: var(--blue-light);
    color: var(--blue);
    border: none;
    border-radius: 14px;
    padding: 14px 24px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    font-family: 'DM Sans', sans-serif;
    transition: all 0.2s;
  }

  /* INPUTS */
  .form-group { margin-bottom: 16px; }

  .form-label {
    font-size: 11px;
    color: var(--gray-500);
    font-weight: 700;
    margin-bottom: 7px;
    display: block;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .form-input {
    width: 100%;
    padding: 14px 16px;
    border: 2px solid var(--gray-200);
    border-radius: 12px;
    font-size: 14px;
    font-family: 'DM Sans', sans-serif;
    color: var(--gray-900);
    outline: none;
    transition: border-color 0.2s, box-shadow 0.2s;
    background: var(--gray-50);
  }

  .form-input:focus {
    border-color: var(--blue);
    background: white;
    box-shadow: 0 0 0 4px rgba(37,99,235,0.08);
  }

  textarea.form-input { resize: none; height: 90px; }

  /* CARD */
  .card {
    background: white;
    border-radius: var(--radius);
    box-shadow: var(--shadow-md);
    padding: 16px;
    border: 1px solid var(--gray-100);
  }

  /* SECTION TITLE */
  .section-title {
    font-size: 11px;
    font-weight: 700;
    color: var(--gray-400);
    text-transform: uppercase;
    letter-spacing: 1.2px;
    margin-bottom: 12px;
  }

  /* STATUS BADGES */
  .status-badge {
    font-size: 10px;
    font-weight: 700;
    padding: 4px 9px;
    border-radius: 20px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    flex-shrink: 0;
  }
  .badge-running  { background: #fef3c7; color: #92400e; }
  .badge-done     { background: #d1fae5; color: #065f46; }
  .badge-cancelled{ background: #fee2e2; color: #dc2626; }

  /* ====================================================
     SCREEN 1 ¬∑ SPLASH
     ==================================================== */
  #screen-splash {
    background: linear-gradient(160deg, #0c1445 0%, #1d4ed8 55%, #2563eb 80%, #06b6d4 100%);
    justify-content: center;
    align-items: center;
    gap: 0;
    cursor: pointer;
  }

  .splash-bg-circle {
    position: absolute;
    border-radius: 50%;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.08);
  }

  .splash-icon-box {
    width: 108px; height: 108px;
    background: rgba(255,255,255,0.12);
    border-radius: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 54px;
    backdrop-filter: blur(16px);
    border: 2px solid rgba(255,255,255,0.2);
    box-shadow: 0 24px 64px rgba(0,0,0,0.3);
    margin-bottom: 22px;
    animation: splashFloat 3s ease-in-out infinite;
  }

  @keyframes splashFloat {
    0%,100% { transform: translateY(0) rotate(0deg); }
    50%      { transform: translateY(-10px) rotate(2deg); }
  }

  .splash-brand {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 52px;
    font-weight: 800;
    color: white;
    letter-spacing: -2.5px;
    line-height: 1;
    margin-bottom: 10px;
  }

  .splash-tag {
    font-size: 14px;
    color: rgba(255,255,255,0.7);
    font-weight: 400;
    text-align: center;
    letter-spacing: 0.3px;
  }

  .splash-sub {
    font-size: 11px;
    color: rgba(255,255,255,0.4);
    text-align: center;
    margin-top: 4px;
  }

  .splash-dots {
    display: flex;
    gap: 8px;
    margin-top: 64px;
  }

  .sdot {
    width: 8px; height: 8px;
    background: rgba(255,255,255,0.35);
    border-radius: 50%;
    animation: sdotPulse 1.4s ease-in-out infinite;
  }
  .sdot:nth-child(2) { animation-delay: 0.2s; }
  .sdot:nth-child(3) { animation-delay: 0.4s; }

  @keyframes sdotPulse {
    0%,100% { background: rgba(255,255,255,0.25); transform: scale(0.85); }
    50%      { background: white; transform: scale(1.2); }
  }

  /* ====================================================
     SCREEN 2 ¬∑ LOGIN
     ==================================================== */
  #screen-login { background: var(--white); }

  .login-hero {
    background: linear-gradient(155deg, #0c1445, #1d4ed8, #06b6d4);
    padding: 56px 24px 36px;
    border-radius: 0 0 36px 36px;
    text-align: center;
    flex-shrink: 0;
    position: relative;
    overflow: hidden;
  }

  .login-hero::before {
    content: '';
    position: absolute;
    top: -40px; right: -40px;
    width: 180px; height: 180px;
    background: rgba(255,255,255,0.05);
    border-radius: 50%;
  }

  .login-logo {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 36px;
    font-weight: 800;
    color: white;
    letter-spacing: -1.5px;
    position: relative;
  }

  .login-subtitle {
    color: rgba(255,255,255,0.65);
    font-size: 13px;
    margin-top: 6px;
    position: relative;
  }

  .login-body {
    flex: 1;
    overflow-y: auto;
    padding: 28px 22px 30px;
    scrollbar-width: none;
  }
  .login-body::-webkit-scrollbar { display: none; }

  .phone-row {
    display: flex;
    gap: 8px;
    margin-bottom: 0;
  }

  .flag-box {
    background: var(--gray-100);
    border: 2px solid var(--gray-200);
    border-radius: 12px;
    padding: 14px 12px;
    font-size: 14px;
    font-weight: 700;
    color: var(--gray-700);
    flex-shrink: 0;
    white-space: nowrap;
  }

  .otp-inputs { display: flex; gap: 8px; margin-bottom: 20px; width: 100%; }

  .otp-box {
    flex: 1;
    min-width: 0;
    width: 0;
    height: 54px;
    border: 2px solid var(--gray-200);
    border-radius: 12px;
    text-align: center;
    font-size: 22px;
    font-weight: 700;
    outline: none;
    color: var(--blue);
    background: var(--gray-50);
    transition: all 0.2s;
    font-family: 'Space Grotesk', sans-serif;
  }
  .otp-box:focus { border-color: var(--blue); background: white; box-shadow: 0 0 0 4px rgba(37,99,235,0.08); }

  .otp-reveal { display: none; }
  .otp-reveal.show { display: block; animation: slideIn 0.3s ease; }

  .divider {
    display: flex;
    align-items: center;
    gap: 12px;
    margin: 20px 0;
    color: var(--gray-400);
    font-size: 12px;
    font-weight: 600;
  }
  .divider::before,.divider::after { content:''; flex:1; height:1px; background:var(--gray-200); }

  .google-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 14px;
    border: 2px solid var(--gray-200);
    border-radius: 14px;
    background: white;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    color: var(--gray-700);
    width: 100%;
    font-family: 'DM Sans', sans-serif;
    transition: border-color 0.2s;
  }
  .google-btn:hover { border-color: var(--blue); }

  .lang-row {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 20px;
  }

  .lang-pill {
    font-size: 13px;
    font-weight: 700;
    padding: 6px 18px;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .lang-pill.active { background: var(--blue); color: white; }
  .lang-pill.inactive { background: var(--gray-100); color: var(--gray-400); }

  /* ====================================================
     SCREEN 3 ¬∑ HOME
     ==================================================== */
  .home-header {
    background: linear-gradient(155deg, #0c1445 0%, #1d4ed8 60%, #2563eb 100%);
    padding: 0 18px 24px;
    flex-shrink: 0;
    position: relative;
    overflow: hidden;
  }

  .home-header::before {
    content: '';
    position: absolute;
    top: -60px; right: -60px;
    width: 220px; height: 220px;
    background: rgba(255,255,255,0.05);
    border-radius: 50%;
  }

  .home-header::after {
    content: '';
    position: absolute;
    bottom: -30px; left: -30px;
    width: 140px; height: 140px;
    background: rgba(6,182,212,0.12);
    border-radius: 50%;
  }

  .home-top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 0 14px;
    position: relative;
    z-index: 1;
  }

  .home-brand {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 22px;
    font-weight: 800;
    color: white;
    letter-spacing: -1px;
  }

  .icon-btn {
    width: 38px; height: 38px;
    background: rgba(255,255,255,0.12);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    cursor: pointer;
    border: 1px solid rgba(255,255,255,0.15);
    color: white;
    transition: all 0.2s;
    flex-shrink: 0;
  }
  .icon-btn:hover { background: rgba(255,255,255,0.22); }

  .home-greeting { color: rgba(255,255,255,0.6); font-size: 13px; position: relative; z-index: 1; }
  .home-name { color: white; font-size: 20px; font-weight: 700; margin-bottom: 22px; position: relative; z-index: 1; }

  /* Hero Button */
  .hero-circle-wrap {
    display: flex;
    justify-content: center;
    position: relative;
    z-index: 1;
  }

  .hero-circle {
    width: 150px; height: 150px;
    background: white;
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border: none;
    transition: transform 0.25s, box-shadow 0.25s;
    box-shadow: 0 16px 48px rgba(0,0,0,0.28);
    position: relative;
  }

  .hero-circle::before {
    content: '';
    position: absolute;
    inset: -8px;
    border-radius: 50%;
    border: 2.5px dashed rgba(255,255,255,0.35);
    animation: spinDash 14s linear infinite;
  }

  @keyframes spinDash { to { transform: rotate(360deg); } }

  .hero-circle:active { transform: scale(0.93); }

  .hero-circle-icon { font-size: 40px; margin-bottom: 4px; }
  .hero-circle-label {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 11px;
    font-weight: 800;
    color: var(--blue-dark);
    text-transform: uppercase;
    letter-spacing: 1.2px;
  }

  /* Quick task grid */
  .quick-section { padding: 20px 16px 0; }

  .task-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }

  .task-chip {
    background: white;
    border: 1.5px solid var(--gray-100);
    border-radius: 16px;
    padding: 14px 12px;
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    transition: all 0.22s;
    box-shadow: var(--shadow-sm);
  }
  .task-chip:hover {
    border-color: var(--blue-mid);
    background: var(--blue-light);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }
  .task-chip-icon { font-size: 26px; }
  .task-chip-label { font-size: 12px; font-weight: 600; color: var(--gray-700); line-height: 1.3; }

  /* Info strip */
  .info-strip {
    margin: 14px 16px;
    background: linear-gradient(135deg, var(--blue-light), #e0f2fe);
    border-radius: 16px;
    padding: 14px 18px;
    display: flex;
    justify-content: space-around;
    border: 1px solid rgba(37,99,235,0.15);
  }
  .info-item { text-align: center; }
  .info-value { font-family:'Space Grotesk',sans-serif; font-size: 18px; font-weight: 800; color: var(--blue-dark); }
  .info-label { font-size: 10px; color: var(--gray-500); font-weight: 600; margin-top: 1px; }

  /* Activity cards */
  .activity-section { padding: 0 16px; }

  .activity-card {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px;
    background: white;
    border-radius: 16px;
    border: 1.5px solid var(--gray-100);
    margin-bottom: 9px;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: var(--shadow-sm);
  }
  .activity-card:hover { border-color: var(--blue-mid); transform: translateX(3px); box-shadow: var(--shadow-md); }

  .activity-icon {
    width: 44px; height: 44px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    flex-shrink: 0;
  }
  .ai-running { background: #fef3c7; }
  .ai-done    { background: #d1fae5; }

  .activity-info { flex: 1; min-width: 0; }
  .activity-title { font-size: 13px; font-weight: 700; color: var(--gray-900); }
  .activity-meta  { font-size: 11px; color: var(--gray-400); margin-top: 2px; }

  /* FAB */
  .fab {
    position: absolute;
    bottom: 92px; right: 16px;
    width: 52px; height: 52px;
    background: linear-gradient(135deg, var(--blue-mid), var(--blue-dark));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 6px 24px rgba(37,99,235,0.45);
    z-index: 40;
    animation: fabPulse 2.4s ease-in-out infinite;
  }

  @keyframes fabPulse {
    0%,100% { box-shadow: 0 6px 24px rgba(37,99,235,0.4); }
    50%      { box-shadow: 0 8px 40px rgba(37,99,235,0.65); }
  }

  /* ====================================================
     POST TASK FLOW
     ==================================================== */
  .post-header {
    padding: 10px 18px 14px;
    border-bottom: 1px solid var(--gray-100);
    flex-shrink: 0;
  }

  .step-bar {
    display: flex;
    gap: 6px;
    margin-bottom: 12px;
  }
  .step-seg {
    height: 4px;
    flex: 1;
    border-radius: 2px;
    background: var(--gray-200);
    transition: background 0.3s;
  }
  .step-seg.done   { background: var(--blue-mid); }
  .step-seg.active { background: linear-gradient(90deg, var(--blue-mid), var(--accent)); }

  .step-title { font-family:'Space Grotesk',sans-serif; font-size: 20px; font-weight: 700; color: var(--gray-900); }
  .step-sub   { font-size: 12px; color: var(--gray-400); margin-top: 3px; }

  .post-body {
    padding: 20px 18px;
    flex: 1;
    overflow-y: auto;
    scrollbar-width: none;
  }
  .post-body::-webkit-scrollbar { display: none; }

  .post-footer {
    padding: 14px 18px 28px;
    border-top: 1px solid var(--gray-100);
    flex-shrink: 0;
  }

  .upload-area {
    border: 2px dashed var(--gray-300);
    border-radius: 16px;
    padding: 26px;
    text-align: center;
    cursor: pointer;
    color: var(--gray-400);
    font-size: 13px;
    transition: all 0.2s;
  }
  .upload-area:hover { border-color: var(--blue); color: var(--blue); background: var(--blue-light); }
  .upload-area .up-icon { font-size: 30px; margin-bottom: 6px; }

  /* Location */
  .map-preview {
    height: 160px;
    background: linear-gradient(135deg, #dbeafe, #bfdbfe);
    border-radius: 18px;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    border: 1px solid var(--gray-200);
  }
  .map-preview::before {
    content:'';
    position: absolute;
    inset: 0;
    background:
      repeating-linear-gradient(0deg,transparent,transparent 20px,rgba(37,99,235,0.06) 20px,rgba(37,99,235,0.06) 21px),
      repeating-linear-gradient(90deg,transparent,transparent 20px,rgba(37,99,235,0.06) 20px,rgba(37,99,235,0.06) 21px);
  }
  .map-pin { position: absolute; font-size: 32px; z-index:1; animation: pinBounce 1.8s ease-in-out infinite; }
  @keyframes pinBounce { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }

  .loc-row {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px;
    background: var(--gray-50);
    border: 1.5px solid var(--gray-200);
    border-radius: 14px;
    margin-bottom: 10px;
    cursor: pointer;
    transition: border-color 0.2s;
  }
  .loc-row:hover { border-color: var(--blue-mid); }
  .loc-icon  { font-size: 22px; }
  .loc-text  { flex: 1; }
  .loc-label { font-size: 10px; color: var(--gray-400); font-weight: 700; text-transform: uppercase; letter-spacing: 0.8px; }
  .loc-val   { font-size: 14px; font-weight: 600; color: var(--gray-800); margin-top: 2px; }

  .curr-loc-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: var(--blue-light);
    border: 1.5px solid rgba(37,99,235,0.25);
    border-radius: 12px;
    color: var(--blue-dark);
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    margin-bottom: 16px;
  }

  /* Time */
  .time-opt {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 18px 16px;
    border: 2px solid var(--gray-200);
    border-radius: 18px;
    margin-bottom: 12px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .time-opt.selected { border-color: var(--blue-mid); background: var(--blue-light); }
  .time-opt-icon  { font-size: 28px; }
  .time-opt-title { font-size: 16px; font-weight: 700; color: var(--gray-900); }
  .time-opt-sub   { font-size: 12px; color: var(--gray-400); margin-top: 2px; }
  .radio-dot {
    width: 22px; height: 22px;
    border: 2px solid var(--gray-300);
    border-radius: 50%;
    margin-left: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  .time-opt.selected .radio-dot { border-color: var(--blue-mid); background: var(--blue-mid); }
  .time-opt.selected .radio-dot::after { content:''; width:8px; height:8px; background:white; border-radius:50%; }

  .night-notice {
    background: #1e293b;
    border-radius: 14px;
    padding: 14px 16px;
    display: flex;
    gap: 10px;
    align-items: flex-start;
    margin-top: 4px;
  }
  .night-notice .nn-icon { font-size: 22px; margin-top: 1px; }
  .night-notice .nn-text { color: rgba(255,255,255,0.85); font-size: 12px; line-height: 1.5; }
  .night-notice .nn-text strong { color: var(--orange); }

  /* Price */
  .fee-hero {
    background: linear-gradient(135deg, var(--blue-light), #e0f2fe);
    border: 2px solid rgba(37,99,235,0.2);
    border-radius: 18px;
    padding: 18px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 18px;
  }
  .fee-hero-label { font-size: 11px; color: var(--blue-dark); font-weight: 700; text-transform: uppercase; letter-spacing: 0.8px; }
  .fee-hero-sub   { font-size: 11px; color: var(--blue-mid); margin-top: 2px; opacity: 0.8; }
  .fee-hero-val   { font-family:'Space Grotesk',sans-serif; font-size: 28px; font-weight: 800; color: var(--blue-dark); }

  .fee-table {
    background: var(--gray-50);
    border-radius: 16px;
    padding: 4px 0;
    border: 1px solid var(--gray-100);
    margin-bottom: 18px;
    overflow: hidden;
  }
  .fee-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 13px 16px;
    border-bottom: 1px solid var(--gray-200);
    font-size: 13px;
    color: var(--gray-600);
  }
  .fee-row:last-child { border-bottom: none; font-weight: 800; font-size: 15px; color: var(--gray-900); background: white; border-radius: 0 0 16px 16px; }

  /* Finding Rider */
  .radar-wrap { position: relative; width: 190px; height: 190px; }
  .radar-ring {
    position: absolute;
    border: 2px solid rgba(255,255,255,0.2);
    border-radius: 50%;
    animation: radarPulse 2.8s ease-out infinite;
  }
  .radar-ring:nth-child(1){ inset:28%; animation-delay:0s; }
  .radar-ring:nth-child(2){ inset:12%; animation-delay:0.8s; }
  .radar-ring:nth-child(3){ inset:-4%; animation-delay:1.6s; }
  @keyframes radarPulse{0%{opacity:0.9;transform:scale(0.5)}100%{opacity:0;transform:scale(1)}}

  .radar-core {
    position: absolute;
    inset: 34%;
    background: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    box-shadow: 0 12px 36px rgba(0,0,0,0.22);
    z-index: 1;
  }

  .finding-title { font-family:'Space Grotesk',sans-serif; font-size: 24px; font-weight: 800; color: white; }
  .finding-sub   { font-size: 13px; color: rgba(255,255,255,0.7); margin-top: 6px; }

  .riders-badge {
    background: rgba(255,255,255,0.12);
    border: 1px solid rgba(255,255,255,0.25);
    border-radius: 30px;
    padding: 12px 28px;
    color: white;
    font-size: 15px;
    font-weight: 700;
    backdrop-filter: blur(12px);
  }

  .cancel-ghost {
    background: transparent;
    border: 2px solid rgba(255,255,255,0.35);
    border-radius: 14px;
    padding: 14px 32px;
    color: white;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    font-family: 'DM Sans', sans-serif;
    transition: all 0.2s;
  }
  .cancel-ghost:hover { background: rgba(255,255,255,0.1); }

  /* Rider Assigned */
  .live-map {
    flex: 1;
    background: linear-gradient(135deg, #bfdbfe, #93c5fd);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
  }
  .live-map::before {
    content:'';
    position: absolute;
    inset: 0;
    background:
      repeating-linear-gradient(0deg,transparent,transparent 22px,rgba(37,99,235,0.07) 22px,rgba(37,99,235,0.07) 23px),
      repeating-linear-gradient(90deg,transparent,transparent 22px,rgba(37,99,235,0.07) 22px,rgba(37,99,235,0.07) 23px);
  }
  .moving-rider { position:absolute; font-size:32px; z-index:1; animation:moveRider 4s ease-in-out infinite; }
  @keyframes moveRider{0%{transform:translate(-40px,15px)}50%{transform:translate(25px,-15px)}100%{transform:translate(-40px,15px)}}

  .live-badge {
    position: absolute;
    top: 14px; right: 14px;
    background: white;
    border-radius: 20px;
    padding: 6px 14px;
    font-size: 11px;
    font-weight: 700;
    color: var(--red);
    box-shadow: var(--shadow-md);
    z-index: 1;
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .rider-sheet {
    background: white;
    border-radius: 24px 24px 0 0;
    padding: 0 18px 24px;
    flex-shrink: 0;
    box-shadow: 0 -8px 40px rgba(0,0,0,0.1);
  }

  .sheet-handle {
    width: 36px; height: 4px;
    background: var(--gray-200);
    border-radius: 2px;
    margin: 14px auto 18px;
  }

  .rider-profile { display: flex; align-items: center; gap: 14px; margin-bottom: 16px; }

  .rider-avatar {
    width: 56px; height: 56px;
    background: linear-gradient(135deg, var(--blue-mid), var(--blue-dark));
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 26px;
    color: white;
    font-weight: 700;
    border: 3px solid var(--blue-light);
    flex-shrink: 0;
  }

  .rider-name   { font-family:'Space Grotesk',sans-serif; font-size: 17px; font-weight: 700; color: var(--gray-900); }
  .rider-rating { font-size: 12px; color: var(--gray-400); margin-top: 3px; }
  .rider-plate  { font-size: 11px; color: var(--gray-400); margin-top: 2px; }

  .rider-actions { display: flex; gap: 10px; margin-bottom: 16px; }

  .r-action {
    flex: 1;
    padding: 12px;
    border: none;
    border-radius: 14px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    font-family: 'DM Sans', sans-serif;
    transition: all 0.2s;
  }
  .r-call { background: var(--blue-light); color: var(--blue-dark); }
  .r-chat { background: var(--gray-100); color: var(--gray-700); }

  .eta-bar {
    background: linear-gradient(135deg, var(--blue-mid), var(--blue-dark));
    border-radius: 14px;
    padding: 14px 18px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: white;
  }
  .eta-label { font-size: 10px; opacity: 0.75; margin-bottom: 2px; }
  .eta-time  { font-family:'Space Grotesk',sans-serif; font-size: 22px; font-weight: 800; }

  /* Task Completed */
  .complete-hero {
    background: linear-gradient(155deg, #0c1445, #1d4ed8, #06b6d4);
    padding: 56px 24px 36px;
    border-radius: 0 0 36px 36px;
    text-align: center;
    flex-shrink: 0;
  }
  .success-ring {
    width: 96px; height: 96px;
    background: rgba(255,255,255,0.15);
    border: 3px solid rgba(255,255,255,0.4);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 48px;
    margin: 0 auto 16px;
    animation: successPop 0.5s cubic-bezier(0.34,1.56,0.64,1);
  }
  @keyframes successPop{from{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}

  .c-title { font-family:'Space Grotesk',sans-serif; font-size: 22px; font-weight: 800; color: white; }
  .c-sub   { color: rgba(255,255,255,0.7); font-size: 13px; margin-top: 5px; }

  .star-row { display: flex; justify-content: center; gap: 8px; margin: 14px 0; }
  .star { font-size: 36px; cursor: pointer; transition: transform 0.15s; filter: grayscale(1); opacity: 0.4; }
  .star.active { filter: none; opacity: 1; }
  .star:hover  { transform: scale(1.25); filter: none; opacity: 1; }

  .tip-row { display: flex; gap: 8px; margin: 12px 0; }
  .tip-chip {
    flex: 1;
    padding: 10px;
    border: 1.5px solid var(--gray-200);
    border-radius: 10px;
    text-align: center;
    font-size: 12px;
    font-weight: 700;
    color: var(--gray-500);
    cursor: pointer;
    transition: all 0.2s;
  }
  .tip-chip.active { border-color: var(--blue-mid); color: var(--blue-dark); background: var(--blue-light); }

  /* Activity Tabs */
  .tab-bar {
    display: flex;
    border-bottom: 1px solid var(--gray-100);
    flex-shrink: 0;
  }
  .tab-item {
    flex: 1;
    text-align: center;
    padding: 14px 8px;
    font-size: 13px;
    font-weight: 600;
    color: var(--gray-400);
    cursor: pointer;
    border-bottom: 2.5px solid transparent;
    transition: all 0.2s;
  }
  .tab-item.active { color: var(--blue); border-bottom-color: var(--blue); }

  .task-card {
    margin: 0 16px 10px;
    background: white;
    border-radius: 18px;
    padding: 16px;
    border: 1.5px solid var(--gray-100);
    box-shadow: var(--shadow-sm);
    cursor: pointer;
    transition: all 0.2s;
  }
  .task-card:hover { border-color: var(--blue-mid); transform: translateY(-2px); box-shadow: var(--shadow-md); }
  .tc-title { font-size: 15px; font-weight: 700; color: var(--gray-900); }
  .tc-meta  { font-size: 11px; color: var(--gray-400); margin-top: 3px; }
  .tc-bottom { display:flex; justify-content:space-between; align-items:center; padding-top:10px; border-top:1px solid var(--gray-100); margin-top:10px; }
  .tc-fee { font-family:'Space Grotesk',sans-serif; font-size: 16px; font-weight: 800; color: var(--blue-dark); }

  /* Notifications */
  .notif-item {
    display: flex;
    gap: 12px;
    padding: 14px 16px;
    border-bottom: 1px solid var(--gray-100);
    cursor: pointer;
    transition: background 0.2s;
  }
  .notif-item:hover { background: var(--gray-50); }
  .notif-item.unread { background: var(--blue-light); }
  .notif-icon-box { width: 44px; height: 44px; border-radius: 14px; display:flex; align-items:center; justify-content:center; font-size:22px; flex-shrink:0; }
  .notif-title { font-size: 13px; font-weight: 700; color: var(--gray-900); }
  .notif-desc  { font-size: 11px; color: var(--gray-400); margin-top: 3px; line-height: 1.5; }
  .notif-time  { font-size: 10px; color: var(--gray-300); margin-top: 4px; }

  /* Account */
  .account-hero {
    background: linear-gradient(155deg, #0c1445, #1d4ed8, #06b6d4);
    padding: 50px 24px 28px;
    text-align: center;
    flex-shrink: 0;
    border-radius: 0 0 36px 36px;
  }
  .acc-avatar-wrap { position: relative; display: inline-block; margin-bottom: 12px; }
  .acc-avatar {
    width: 82px; height: 82px;
    background: rgba(255,255,255,0.15);
    border: 3px solid rgba(255,255,255,0.4);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 42px;
    margin: 0 auto;
  }
  .acc-edit {
    position: absolute;
    bottom: 0; right: 0;
    width: 26px; height: 26px;
    background: white;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
  }
  .acc-name  { font-family:'Space Grotesk',sans-serif; font-size: 20px; font-weight: 800; color: white; }
  .acc-phone { color: rgba(255,255,255,0.65); font-size: 13px; margin-top: 4px; }
  .acc-stats { display:flex; gap:8px; justify-content:center; margin-top:14px; }
  .acc-stat-pill { background: rgba(255,255,255,0.14); border-radius:20px; padding:6px 14px; font-size:12px; color:white; font-weight:600; border:1px solid rgba(255,255,255,0.18); }

  .menu-section  { padding: 16px 16px 0; }
  .menu-section-title { font-size: 10px; color: var(--gray-400); font-weight: 700; text-transform:uppercase; letter-spacing:1.2px; margin-bottom: 8px; }

  .menu-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 12px;
    background: white;
    border-radius: 14px;
    margin-bottom: 6px;
    cursor: pointer;
    border: 1.5px solid var(--gray-100);
    transition: all 0.2s;
  }
  .menu-item:hover { border-color: var(--blue-mid); background: var(--blue-light); transform: translateX(3px); }
  .mi-icon   { font-size: 22px; width: 36px; text-align: center; }
  .mi-label  { flex: 1; font-size: 14px; font-weight: 600; color: var(--gray-800); }
  .mi-arrow  { color: var(--gray-300); font-size: 18px; }

  .logout-btn {
    margin: 16px 16px 30px;
    padding: 14px;
    background: #fee2e2;
    border: none;
    border-radius: 14px;
    color: var(--red);
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    width: calc(100% - 32px);
    font-family: 'DM Sans', sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }

  /* Hamburger */
  .ham-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.5);
    z-index: 200;
    display: none;
    backdrop-filter: blur(2px);
  }
  .ham-overlay.open { display: block; }

  .ham-panel {
    position: absolute;
    top: 0; left: 0;
    width: 82%;
    height: 100%;
    background: white;
    z-index: 210;
    overflow-y: auto;
    scrollbar-width: none;
    transform: translateX(-100%);
    transition: transform 0.32s cubic-bezier(0.4,0,0.2,1);
    box-shadow: 8px 0 48px rgba(0,0,0,0.22);
  }
  .ham-panel.open { transform: translateX(0); }
  .ham-panel::-webkit-scrollbar { display: none; }

  .ham-header {
    background: linear-gradient(155deg, #0c1445, #1d4ed8, #06b6d4);
    padding: 50px 22px 22px;
  }
  .ham-avatar { width:54px; height:54px; background:rgba(255,255,255,0.15); border:2px solid rgba(255,255,255,0.35); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:28px; }
  .ham-name  { color:white; font-size:16px; font-weight:700; margin-top:10px; }
  .ham-phone { color:rgba(255,255,255,0.65); font-size:12px; }

  /* Settings */
  .setting-group-title {
    padding: 14px 16px 8px;
    font-size: 10px;
    font-weight: 700;
    color: var(--gray-400);
    text-transform: uppercase;
    letter-spacing: 1.2px;
  }

  .toggle-row {
    display: flex;
    align-items: center;
    padding: 16px;
    border-bottom: 1px solid var(--gray-100);
    cursor: pointer;
    background: white;
    transition: background 0.2s;
  }
  .toggle-row:hover { background: var(--gray-50); }
  .toggle-info { flex: 1; }
  .t-label { font-size: 14px; font-weight: 600; color: var(--gray-800); }
  .t-sub   { font-size: 11px; color: var(--gray-400); margin-top: 2px; }

  .toggle-sw {
    width: 46px; height: 26px;
    background: var(--gray-200);
    border-radius: 13px;
    position: relative;
    cursor: pointer;
    transition: background 0.3s;
    flex-shrink: 0;
  }
  .toggle-sw.on { background: var(--blue-mid); }
  .toggle-sw::after {
    content:'';
    position: absolute;
    top: 4px; left: 4px;
    width: 18px; height: 18px;
    background: white;
    border-radius: 50%;
    transition: transform 0.3s;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }
  .toggle-sw.on::after { transform: translateX(20px); }

  /* === SIDEBAR PANEL === */
  .screen-nav {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 20px;
    padding: 18px 12px;
    width: 210px;
    color: white;
    max-height: 800px;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: rgba(255,255,255,0.2) transparent;
  }

  .sn-title {
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1.8px;
    color: rgba(255,255,255,0.35);
    margin-bottom: 14px;
    padding: 0 4px;
  }

  .sn-btn {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    padding: 9px 10px;
    border: none;
    border-radius: 10px;
    background: transparent;
    color: rgba(255,255,255,0.55);
    font-size: 12px;
    cursor: pointer;
    text-align: left;
    transition: all 0.2s;
    font-family: 'DM Sans', sans-serif;
    margin-bottom: 2px;
    font-weight: 500;
  }
  .sn-btn:hover  { background: rgba(255,255,255,0.1); color: white; }
  .sn-btn.active { background: linear-gradient(135deg, var(--blue-mid), var(--accent)); color: white; font-weight: 700; }

  .sn-num {
    font-size: 10px;
    background: rgba(255,255,255,0.15);
    border-radius: 6px;
    padding: 2px 5px;
    font-weight: 700;
    flex-shrink: 0;
  }
  .sn-btn.active .sn-num { background: rgba(255,255,255,0.3); }

  @keyframes slideUp {
    from { transform: translateY(100%); }
    to   { transform: translateY(0); }
  }
</style>
</head>
<body>

<div class="phone-wrapper">

  <!-- SIDEBAR NAV -->
  <div class="screen-nav">
    <div class="sn-title">Navigation</div>
    <div style="font-size:9px;color:rgba(255,255,255,0.25);padding:0 4px 6px;font-weight:700;text-transform:uppercase;letter-spacing:1px;">‚Äî Auth ‚Äî</div>
    <button class="sn-btn active" data-screen="splash" onclick="nav('splash',this)"><span class="sn-num">A1</span> Splash</button>
    <button class="sn-btn" data-screen="role" onclick="nav('role',this)"><span class="sn-num">A2</span> Role Select</button>
    <button class="sn-btn" data-screen="login" onclick="nav('login',this)"><span class="sn-num">A3</span> Login</button>
    <button class="sn-btn" data-screen="signup" onclick="nav('signup',this)"><span class="sn-num">A4</span> Sign Up</button>
    <button class="sn-btn" data-screen="forgot" onclick="nav('forgot',this)"><span class="sn-num">A5</span> Forgot Password</button>
    <div style="font-size:9px;color:rgba(255,255,255,0.25);padding:6px 4px 6px;font-weight:700;text-transform:uppercase;letter-spacing:1px;">‚Äî Customer ‚Äî</div>
    <button class="sn-btn" data-screen="home" onclick="nav('home',this)"><span class="sn-num">C1</span> Home</button>
    <button class="sn-btn" data-screen="post1" onclick="nav('post1',this)"><span class="sn-num">C2</span> Task Details</button>
    <button class="sn-btn" data-screen="post2" onclick="nav('post2',this)"><span class="sn-num">C3</span> Location</button>
    <button class="sn-btn" data-screen="post3" onclick="nav('post3',this)"><span class="sn-num">C4</span> Time</button>
    <button class="sn-btn" data-screen="post4" onclick="nav('post4',this)"><span class="sn-num">C5</span> Price & Confirm</button>
    <button class="sn-btn" data-screen="finding-rider" onclick="nav('finding-rider',this);setTimeout(startFindTimer,100)"><span class="sn-num">C6</span> üîç Finding Rider</button>
    <button class="sn-btn" data-screen="negotiate" onclick="nav('negotiate',this)"><span class="sn-num">C6b</span> üòî No Rider</button>
    <button class="sn-btn" data-screen="counter-offer" onclick="nav('counter-offer',this)"><span class="sn-num">C6c</span> üí¨ Counter Offer</button>
    <button class="sn-btn" data-screen="assigned" onclick="nav('assigned',this)"><span class="sn-num">C7</span> üìç Live Tracking</button>
    <button class="sn-btn" data-screen="assigned" onclick="nav('assigned',this);sim12stage2()"><span class="sn-num">C7b</span> üì¶ Picked Up</button>
    <button class="sn-btn" data-screen="completed" onclick="nav('completed',this)"><span class="sn-num">C8</span> ‚úÖ Completed</button>
    <button class="sn-btn" data-screen="activity" onclick="nav('activity',this)"><span class="sn-num">C9</span> Activity</button>
    <button class="sn-btn" data-screen="notifications" onclick="nav('notifications',this)"><span class="sn-num">C10</span> Notifications</button>
    <button class="sn-btn" data-screen="account" onclick="nav('account',this)"><span class="sn-num">C11</span> Account</button>
    <button class="sn-btn" data-screen="c-add-money" onclick="nav('c-add-money',this)"><span class="sn-num">C11a</span> ‚ûï Add Money</button>
    <button class="sn-btn" data-screen="c-txn-history" onclick="nav('c-txn-history',this)"><span class="sn-num">C11b</span> üìã Txn History</button>
    <button class="sn-btn" data-screen="settings" onclick="nav('settings',this)"><span class="sn-num">C12</span> Settings</button>
    <div style="font-size:9px;color:rgba(255,255,255,0.25);padding:6px 4px 6px;font-weight:700;text-transform:uppercase;letter-spacing:1px;">‚Äî Rider ‚Äî</div>
    <button class="sn-btn" data-screen="r-home" onclick="nav('r-home',this)"><span class="sn-num">R1</span> Rider Home</button>
    <button class="sn-btn" data-screen="r-alert" onclick="nav('r-alert',this)"><span class="sn-num">R2</span> Task Alert</button>
    <button class="sn-btn" data-screen="r-accepted" onclick="nav('r-accepted',this)"><span class="sn-num">R3</span> Task Accepted</button>
    <button class="sn-btn" data-screen="r-pickup" onclick="nav('r-pickup',this)"><span class="sn-num">R4</span> En Route Pickup</button>
    <button class="sn-btn" data-screen="r-delivery" onclick="nav('r-delivery',this)"><span class="sn-num">R5</span> En Route Delivery</button>
    <button class="sn-btn" data-screen="r-done" onclick="nav('r-done',this)"><span class="sn-num">R6</span> Task Done</button>
    <button class="sn-btn" data-screen="r-earnings" onclick="nav('r-earnings',this)"><span class="sn-num">R7</span> üí∞ Wallet & Earnings</button>
    <button class="sn-btn" data-screen="r-withdraw" onclick="nav('r-withdraw',this)"><span class="sn-num">R7a</span> üí∏ Withdraw</button>
    <button class="sn-btn" data-screen="r-wd-history" onclick="nav('r-wd-history',this)"><span class="sn-num">R7b</span> üìã Wd. History</button>
    <button class="sn-btn" data-screen="r-deposit-info" onclick="nav('r-deposit-info',this)"><span class="sn-num">R7c</span> üîí Deposit Info</button>
    <button class="sn-btn" data-screen="r-history" onclick="nav('r-history',this)"><span class="sn-num">R8</span> Task History</button>
    <button class="sn-btn" data-screen="r-profile" onclick="nav('r-profile',this)"><span class="sn-num">R9</span> Profile</button>
    <button class="sn-btn" data-screen="r-settings" onclick="nav('r-settings',this)"><span class="sn-num">R10</span> Settings</button>
  </div>

  <!-- PHONE -->
  <div class="phone-frame">
    <div class="phone-notch"></div>
    <div class="phone-screen">

      <!-- Hamburger Overlay -->
      <div class="ham-overlay" id="ham-overlay" onclick="closeHam()"></div>
      <div class="ham-panel" id="ham-panel">
        <div class="ham-header">
          <div class="ham-avatar">üßë</div>
          <div class="ham-name">Rafi Ahmed</div>
          <div class="ham-phone">+880 1712 345678</div>
        </div>
        <div style="padding:16px;">
          <div class="menu-item" onclick="closeHam();nav('activity',null)">
            <div class="mi-icon">üìã</div><div class="mi-label">My Tasks</div><div class="mi-arrow">‚Ä∫</div>
          </div>
          <div class="menu-item" onclick="closeHam()">
            <div class="mi-icon">üõµ</div><div class="mi-label">Become a Rider</div><div class="mi-arrow">‚Ä∫</div>
          </div>
          <div class="menu-item" onclick="closeHam()">
            <div class="mi-icon">üõ°Ô∏è</div><div class="mi-label">Safety Rules</div><div class="mi-arrow">‚Ä∫</div>
          </div>
          <div class="menu-item" onclick="closeHam()">
            <div class="mi-icon">üéÅ</div><div class="mi-label">Referral Program</div><div class="mi-arrow">‚Ä∫</div>
          </div>
          <div class="menu-item" onclick="closeHam();nav('settings',null)">
            <div class="mi-icon">‚öôÔ∏è</div><div class="mi-label">Settings</div><div class="mi-arrow">‚Ä∫</div>
          </div>
          <div class="menu-item" onclick="closeHam()">
            <div class="mi-icon">üí¨</div><div class="mi-label">Customer Support</div><div class="mi-arrow">‚Ä∫</div>
          </div>
        </div>
      </div>

      <!-- =========================================
           S1 ¬∑ SPLASH
           ========================================= -->
      <div class="screen active" id="screen-splash" onclick="nav('role',null)">
        <div class="splash-bg-circle" style="width:300px;height:300px;top:-100px;right:-80px;"></div>
        <div class="splash-bg-circle" style="width:200px;height:200px;bottom:-60px;left:-60px;"></div>
        <div class="splash-bg-circle" style="width:120px;height:120px;top:55%;left:10%;"></div>

        <div style="display:flex;flex-direction:column;align-items:center;position:relative;z-index:1;">
          <div class="splash-icon-box">üõµ</div>
          <div class="splash-brand">tasko</div>
          <div class="splash-tag">Hire a person. Get it done.</div>
          <div class="splash-sub">‡¶ï‡¶æ‡¶ú ‡¶¶‡¶æ‡¶ì ¬∑ ‡¶ï‡¶æ‡¶ú ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶ï</div>
        </div>

        <div class="splash-dots" style="position:relative;z-index:1;">
          <div class="sdot"></div><div class="sdot"></div><div class="sdot"></div>
        </div>

        <div style="position:absolute;bottom:36px;color:rgba(255,255,255,0.35);font-size:12px;font-weight:600;letter-spacing:1px;z-index:1;">TAP TO CONTINUE</div>
      </div>

      <!-- =========================================
           S2 ¬∑ ROLE SELECTION
           ========================================= -->
      <div class="screen" id="screen-role" style="background:linear-gradient(160deg,#0c1445 0%,#1d4ed8 55%,#2563eb 80%,#06b6d4 100%);">
        <!-- bg circles -->
        <div class="splash-bg-circle" style="width:280px;height:280px;top:-80px;right:-80px;"></div>
        <div class="splash-bg-circle" style="width:180px;height:180px;bottom:-50px;left:-50px;"></div>

        <div style="flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:40px 24px 30px;position:relative;z-index:1;">
          <!-- Logo -->
          <div style="font-family:'Space Grotesk',sans-serif;font-size:40px;font-weight:800;color:white;letter-spacing:-2px;margin-bottom:8px;">üõµ tasko</div>
          <div style="color:rgba(255,255,255,0.6);font-size:13px;margin-bottom:44px;">Who are you today?</div>

          <!-- Customer Card -->
          <div onclick="setRole('customer')" style="width:100%;background:rgba(255,255,255,0.1);border:2px solid rgba(255,255,255,0.25);border-radius:22px;padding:24px 20px;margin-bottom:14px;cursor:pointer;backdrop-filter:blur(12px);transition:all 0.25s;display:flex;align-items:center;gap:18px;" onmouseover="this.style.background='rgba(255,255,255,0.18)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
            <div style="width:60px;height:60px;background:rgba(255,255,255,0.15);border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:30px;flex-shrink:0;border:1.5px solid rgba(255,255,255,0.2);">üôã</div>
            <div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">I'm a Customer</div>
              <div style="font-size:12px;color:rgba(255,255,255,0.6);margin-top:4px;">Post tasks, hire riders, get things done</div>
            </div>
            <div style="margin-left:auto;color:rgba(255,255,255,0.5);font-size:20px;">‚Ä∫</div>
          </div>

          <!-- Rider Card -->
          <div onclick="setRole('rider')" style="width:100%;background:rgba(255,255,255,0.1);border:2px solid rgba(255,255,255,0.25);border-radius:22px;padding:24px 20px;cursor:pointer;backdrop-filter:blur(12px);transition:all 0.25s;display:flex;align-items:center;gap:18px;" onmouseover="this.style.background='rgba(255,255,255,0.18)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
            <div style="width:60px;height:60px;background:rgba(255,255,255,0.15);border-radius:18px;display:flex;align-items:center;justify-content:center;font-size:30px;flex-shrink:0;border:1.5px solid rgba(255,255,255,0.2);">üõµ</div>
            <div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">I'm a Rider</div>
              <div style="font-size:12px;color:rgba(255,255,255,0.6);margin-top:4px;">Accept tasks, earn money, ride freely</div>
            </div>
            <div style="margin-left:auto;color:rgba(255,255,255,0.5);font-size:20px;">‚Ä∫</div>
          </div>

          <!-- Lang -->
          <div class="lang-row" style="margin-top:32px;">
            <div class="lang-pill active">English</div>
            <div class="lang-pill inactive">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</div>
          </div>
        </div>
      </div>

      <!-- =========================================
           S3 ¬∑ LOGIN (Existing User)
           ========================================= -->
      <div class="screen" id="screen-login">
        <div class="login-hero">
          <button onclick="nav('role',null)" style="position:absolute;top:44px;left:18px;background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;font-weight:700;display:flex;align-items:center;justify-content:center;">‚Äπ</button>
          <div class="login-logo">üõµ tasko</div>
          <div class="login-subtitle">Welcome back! Sign in to continue</div>
          <!-- Role Badge -->
          <div id="login-role-badge" style="display:inline-flex;align-items:center;gap:6px;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.25);border-radius:20px;padding:5px 14px;margin-top:10px;font-size:12px;color:white;font-weight:600;">üôã Customer</div>
        </div>
        <div class="login-body">
          <!-- Toggle: Login / Sign Up -->
          <div style="display:flex;background:var(--gray-100);border-radius:14px;padding:4px;margin-bottom:22px;">
            <div id="tab-login" onclick="switchAuthTab('login')" style="flex:1;text-align:center;padding:10px;border-radius:10px;font-size:13px;font-weight:700;cursor:pointer;background:white;color:var(--blue);box-shadow:0 2px 8px rgba(0,0,0,0.08);">Sign In</div>
            <div id="tab-signup" onclick="switchAuthTab('signup')" style="flex:1;text-align:center;padding:10px;border-radius:10px;font-size:13px;font-weight:600;cursor:pointer;color:var(--gray-400);">Sign Up</div>
          </div>

          <div class="form-group">
            <div class="form-label">üì± Mobile Number</div>
            <div class="phone-row">
              <div class="flag-box">üáßüá© +880</div>
              <input class="form-input" type="tel" placeholder="01XXXXXXXXX" style="flex:1;" value="01712 345678">
            </div>
          </div>

          <div class="form-group">
            <div class="form-label">üîí Password</div>
            <div style="position:relative;">
              <input class="form-input" type="password" placeholder="Enter your password" value="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="padding-right:48px;">
              <div style="position:absolute;right:14px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:18px;color:var(--gray-400);">üëÅÔ∏è</div>
            </div>
          </div>

          <!-- Forgot Password -->
          <div style="text-align:right;margin:-8px 0 16px;">
            <span onclick="nav('forgot',null)" style="font-size:12px;color:var(--blue);font-weight:700;cursor:pointer;">Forgot Password?</span>
          </div>

          <button class="btn-primary" onclick="nav('home',null)">Sign In ‚Üí</button>

          <div class="divider">or</div>
          <div class="google-btn">
            <span style="font-size:20px;font-weight:900;font-family:serif;color:#4285F4;">G</span>
            <span>Continue with Google</span>
          </div>

          <div style="text-align:center;margin-top:18px;font-size:13px;color:var(--gray-400);">
            Don't have an account?
            <span onclick="nav('signup',null)" style="color:var(--blue);font-weight:700;cursor:pointer;"> Sign Up</span>
          </div>
        </div>
      </div>

      <!-- =========================================
           S4 ¬∑ SIGN UP (New User)
           ========================================= -->
      <div class="screen" id="screen-signup">
        <div class="login-hero">
          <button onclick="nav('role',null)" style="position:absolute;top:44px;left:18px;background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;font-weight:700;display:flex;align-items:center;justify-content:center;">‚Äπ</button>
          <div class="login-logo">üõµ tasko</div>
          <div class="login-subtitle">Create your account ‚Äì it's free!</div>
          <div id="signup-role-badge" style="display:inline-flex;align-items:center;gap:6px;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.25);border-radius:20px;padding:5px 14px;margin-top:10px;font-size:12px;color:white;font-weight:600;">üôã Customer</div>
        </div>
        <div class="login-body">
          <!-- Toggle -->
          <div style="display:flex;background:var(--gray-100);border-radius:14px;padding:4px;margin-bottom:22px;">
            <div onclick="nav('login',null)" style="flex:1;text-align:center;padding:10px;border-radius:10px;font-size:13px;font-weight:600;cursor:pointer;color:var(--gray-400);">Sign In</div>
            <div style="flex:1;text-align:center;padding:10px;border-radius:10px;font-size:13px;font-weight:700;cursor:pointer;background:white;color:var(--blue);box-shadow:0 2px 8px rgba(0,0,0,0.08);">Sign Up</div>
          </div>

          <div class="form-group">
            <div class="form-label">üë§ Full Name</div>
            <input class="form-input" type="text" placeholder="e.g. Rafi Ahmed">
          </div>
          <div class="form-group">
            <div class="form-label">üì± Mobile Number</div>
            <div class="phone-row">
              <div class="flag-box">üáßüá© +880</div>
              <input class="form-input" type="tel" placeholder="01XXXXXXXXX" style="flex:1;">
            </div>
          </div>
          <div class="form-group">
            <div class="form-label">üîí Create Password</div>
            <div style="position:relative;">
              <input class="form-input" type="password" placeholder="Min. 8 characters" style="padding-right:48px;">
              <div style="position:absolute;right:14px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:18px;color:var(--gray-400);">üëÅÔ∏è</div>
            </div>
          </div>

          <button class="btn-primary" onclick="showSignupOTP()">Send OTP to Verify ‚Üí</button>

          <!-- OTP Section for Signup -->
          <div class="otp-reveal" id="signup-otp-section">
            <div style="height:20px;"></div>
            <div class="form-group">
              <div class="form-label">üîê Verification Code</div>
              <div style="font-size:12px;color:var(--gray-400);margin-bottom:12px;">Sent to your mobile number</div>
              <div class="otp-inputs">
                <input class="otp-box" maxlength="1">
                <input class="otp-box" maxlength="1">
                <input class="otp-box" maxlength="1">
                <input class="otp-box" maxlength="1">
                <input class="otp-box" maxlength="1">
                <input class="otp-box" maxlength="1">
              </div>
            </div>
            <button class="btn-primary" onclick="nav('home',null)">‚úÖ Create Account</button>
            <div style="text-align:center;margin-top:10px;font-size:12px;color:var(--gray-400);">Resend OTP in <span style="color:var(--blue);font-weight:700;cursor:pointer;">00:45</span></div>
          </div>

          <div class="divider">or</div>
          <div class="google-btn">
            <span style="font-size:20px;font-weight:900;font-family:serif;color:#4285F4;">G</span>
            <span>Continue with Google</span>
          </div>

          <div style="text-align:center;margin-top:14px;font-size:11px;color:var(--gray-300);line-height:1.6;">
            By signing up, you agree to our<br>
            <span style="color:var(--blue);cursor:pointer;font-weight:600;">Terms of Service</span> &
            <span style="color:var(--blue);cursor:pointer;font-weight:600;">Privacy Policy</span>
          </div>
        </div>
      </div>

      <!-- =========================================
           S5 ¬∑ FORGOT PASSWORD
           ========================================= -->
      <div class="screen" id="screen-forgot">
        <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:20px 22px 30px;border-radius:0 0 32px 32px;flex-shrink:0;position:relative;overflow:hidden;">
          <button onclick="nav('login',null)" style="background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;font-weight:700;display:flex;align-items:center;justify-content:center;margin-bottom:16px;">‚Äπ</button>
          <div style="font-size:36px;margin-bottom:12px;">üîê</div>
          <div style="font-family:'Space Grotesk',sans-serif;font-size:22px;font-weight:800;color:white;">Forgot Password?</div>
          <div style="color:rgba(255,255,255,0.65);font-size:13px;margin-top:6px;">No worries! We'll send a reset code to your phone.</div>
        </div>

        <div class="login-body" style="padding-top:28px;">
          <!-- Step 1: Phone -->
          <div id="fp-step1">
            <div style="background:var(--blue-light);border-radius:14px;padding:14px 16px;margin-bottom:22px;display:flex;gap:10px;border:1px solid rgba(37,99,235,0.15);">
              <span>‚ÑπÔ∏è</span>
              <span style="font-size:12px;color:var(--blue-dark);font-weight:500;line-height:1.5;">Enter the phone number linked to your Tasko account. We'll send a 6-digit OTP.</span>
            </div>

            <div class="form-group">
              <div class="form-label">üì± Registered Mobile</div>
              <div class="phone-row">
                <div class="flag-box">üáßüá© +880</div>
                <input class="form-input" type="tel" placeholder="01XXXXXXXXX" style="flex:1;" value="01712 345678">
              </div>
            </div>
            <button class="btn-primary" onclick="showFPOTP()">Send Reset OTP ‚Üí</button>
          </div>

          <!-- Step 2: OTP -->
          <div id="fp-step2" style="display:none;animation:slideIn 0.3s ease;">
            <div style="text-align:center;margin-bottom:20px;">
              <div style="font-size:32px;margin-bottom:8px;">üì©</div>
              <div style="font-size:15px;font-weight:700;color:var(--gray-900);">Check your phone</div>
              <div style="font-size:12px;color:var(--gray-400);margin-top:4px;">OTP sent to +880 01712¬∑¬∑¬∑¬∑¬∑</div>
            </div>
            <div class="form-group">
              <div class="form-label">üîê Enter OTP</div>
              <div class="otp-inputs">
                <input class="otp-box" maxlength="1">
                <input class="otp-box" maxlength="1">
                <input class="otp-box" maxlength="1">
                <input class="otp-box" maxlength="1">
                <input class="otp-box" maxlength="1">
                <input class="otp-box" maxlength="1">
              </div>
            </div>
            <button class="btn-primary" onclick="showFPReset()">Verify OTP ‚Üí</button>
            <div style="text-align:center;margin-top:12px;font-size:12px;color:var(--gray-400);">Resend OTP in <span style="color:var(--blue);font-weight:700;cursor:pointer;">00:45</span></div>
          </div>

          <!-- Step 3: New Password -->
          <div id="fp-step3" style="display:none;animation:slideIn 0.3s ease;">
            <div style="text-align:center;margin-bottom:20px;">
              <div style="font-size:32px;margin-bottom:8px;">üîë</div>
              <div style="font-size:15px;font-weight:700;color:var(--gray-900);">Create New Password</div>
              <div style="font-size:12px;color:var(--gray-400);margin-top:4px;">Must be at least 8 characters</div>
            </div>
            <div class="form-group">
              <div class="form-label">üîí New Password</div>
              <div style="position:relative;">
                <input class="form-input" type="password" placeholder="Enter new password" style="padding-right:48px;">
                <div style="position:absolute;right:14px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:18px;color:var(--gray-400);">üëÅÔ∏è</div>
              </div>
            </div>
            <div class="form-group">
              <div class="form-label">üîí Confirm Password</div>
              <div style="position:relative;">
                <input class="form-input" type="password" placeholder="Re-enter new password" style="padding-right:48px;">
                <div style="position:absolute;right:14px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:18px;color:var(--gray-400);">üëÅÔ∏è</div>
              </div>
            </div>
            <!-- Password strength bar -->
            <div style="margin-bottom:20px;">
              <div style="display:flex;justify-content:space-between;margin-bottom:6px;">
                <span style="font-size:11px;color:var(--gray-500);">Password strength</span>
                <span style="font-size:11px;font-weight:700;color:var(--green);">Strong</span>
              </div>
              <div style="height:5px;background:var(--gray-200);border-radius:3px;overflow:hidden;">
                <div style="width:80%;height:100%;background:linear-gradient(90deg,var(--green),#34d399);border-radius:3px;"></div>
              </div>
            </div>
            <button class="btn-primary" onclick="showFPSuccess()">‚úÖ Reset Password</button>
          </div>

          <!-- Step 4: Success -->
          <div id="fp-step4" style="display:none;animation:slideIn 0.3s ease;text-align:center;padding-top:10px;">
            <div style="width:80px;height:80px;background:var(--blue-light);border:3px solid var(--blue-pale);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:40px;margin:0 auto 18px;animation:successPop 0.5s cubic-bezier(0.34,1.56,0.64,1);">‚úÖ</div>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:var(--gray-900);margin-bottom:8px;">Password Reset!</div>
            <div style="font-size:13px;color:var(--gray-400);margin-bottom:28px;">Your password has been successfully updated. You can now sign in.</div>
            <button class="btn-primary" onclick="nav('login',null)">Sign In Now ‚Üí</button>
          </div>
        </div>
      </div>

      <!-- =========================================
           S3 ¬∑ HOME
           ========================================= -->
      <div class="screen" id="screen-home">
        <div class="home-header">
          <div class="status-bar light" style="padding:40px 0 6px;">
            <span>10:41</span><div style="display:flex;gap:4px;align-items:center;font-size:11px;">üì∂ üîã</div>
          </div>
          <div class="home-top-bar">
            <div class="icon-btn" onclick="showHam()">‚ò∞</div>
            <div class="home-brand">tasko</div>
            <div style="display:flex;gap:8px;align-items:center;">
              <div class="icon-btn" style="font-size:13px;font-weight:800;">EN</div>
              <div class="icon-btn" style="position:relative;" onclick="nav('notifications',null)">
                üîî
                <div style="position:absolute;top:-3px;right:-3px;width:14px;height:14px;background:#ef4444;border-radius:50%;font-size:9px;color:white;display:flex;align-items:center;justify-content:center;font-weight:700;border:2px solid #1d4ed8;">3</div>
              </div>
            </div>
          </div>
          <div class="home-greeting">Good Evening üå§Ô∏è</div>
          <div class="home-name">Rafi Ahmed!</div>

          <!-- Wallet Balance ‚Äî bKash style, below name -->
          <div onclick="toggleCWallet()" style="cursor:pointer;margin-bottom:18px;display:inline-block;">
            <div style="font-size:11px;color:rgba(255,255,255,0.5);font-weight:600;margin-bottom:4px;letter-spacing:0.5px;">üí≥ Wallet Balance</div>
            <div style="display:flex;align-items:center;gap:10px;">
              <span id="c-wallet-val" style="font-family:'Space Grotesk',sans-serif;font-size:30px;font-weight:800;color:white;letter-spacing:1px;">‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
              <span style="font-size:18px;opacity:0.5;">üëÅ</span>
            </div>
          </div>

          <div class="hero-circle-wrap">
            <button class="hero-circle" onclick="nav('post1',null)">
              <div class="hero-circle-icon">‚ûï</div>
              <div class="hero-circle-label">Post a Task</div>
            </button>
          </div>
          <div style="height:22px;"></div>
        </div>

        <div class="scroll-content">
          <div class="info-strip">
            <div class="info-item"><div class="info-value">‚ö° 25m</div><div class="info-label">Avg. Delivery</div></div>
            <div style="width:1px;background:rgba(37,99,235,0.15);"></div>
            <div class="info-item"><div class="info-value">üìç 2km</div><div class="info-label">Service Radius</div></div>
            <div style="width:1px;background:rgba(37,99,235,0.15);"></div>
            <div class="info-item"><div class="info-value">‚úÖ 98%</div><div class="info-label">Success Rate</div></div>
          </div>

          <div class="quick-section">
            <div class="section-title">‚ö° Quick Tasks</div>
            <div class="task-grid">
              <div class="task-chip" onclick="nav('post1',null)"><div class="task-chip-icon">üõí</div><div class="task-chip-label">Market Run</div></div>
              <div class="task-chip" onclick="nav('post1',null)"><div class="task-chip-icon">üíä</div><div class="task-chip-label">Pharmacy</div></div>
              <div class="task-chip" onclick="nav('post1',null)"><div class="task-chip-icon">üìÑ</div><div class="task-chip-label">Pick / Drop</div></div>
              <div class="task-chip" onclick="nav('post1',null)"><div class="task-chip-icon">üéÅ</div><div class="task-chip-label">Personal Errand</div></div>
              <div class="task-chip" onclick="nav('post1',null)"><div class="task-chip-icon">üöö</div><div class="task-chip-label">Send Item</div></div>
              <div class="task-chip" onclick="nav('post1',null)"><div class="task-chip-icon">üåô</div><div class="task-chip-label">Night Task</div></div>
            </div>
          </div>

          <div class="activity-section" style="margin-top:18px;">
            <div class="section-title">üìã Recent Activity</div>
            <div class="activity-card" onclick="nav('assigned',null)">
              <div class="activity-icon ai-running">üõµ</div>
              <div class="activity-info">
                <div class="activity-title">Market Run ‚Äì Mohammadpur</div>
                <div class="activity-meta">Today, 10:30 AM ¬∑ Rider on the way</div>
              </div>
              <div class="status-badge badge-running">Running</div>
            </div>
            <div class="activity-card" onclick="nav('completed',null)">
              <div class="activity-icon ai-done">‚úÖ</div>
              <div class="activity-info">
                <div class="activity-title">Pharmacy Delivery</div>
                <div class="activity-meta">Yesterday, 9:00 PM</div>
              </div>
              <div class="status-badge badge-done">Done</div>
            </div>
          </div>
          <div style="height:12px;"></div>
        </div>

        <div class="fab">üí¨</div>
        <div class="bottom-nav">
          <div class="bnav-item active"><div class="bnav-icon">üè†</div><div>Home</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('activity',null)"><div class="bnav-icon">üìã</div><div>Activity</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('notifications',null)"><div class="bnav-icon">üîî</div><div>Alerts</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('account',null)"><div class="bnav-icon">üë§</div><div>Account</div><div class="bnav-dot"></div></div>
        </div>
      </div>

      <!-- =========================================
           S4 ¬∑ POST ‚Äì TASK DETAILS
           ========================================= -->
      <div class="screen" id="screen-post1">
        <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        <div class="top-nav">
          <button class="nav-btn" onclick="nav('home',null)">‚Äπ</button>
          <div class="nav-title">Post a Task</div>
          <div style="width:36px;"></div>
        </div>
        <div class="post-header">
          <div class="step-bar">
            <div class="step-seg active"></div>
            <div class="step-seg"></div>
            <div class="step-seg"></div>
            <div class="step-seg"></div>
          </div>
          <div class="step-title">Task Details</div>
          <div class="step-sub">Step 1 of 4 ‚Äì Describe your task</div>
        </div>
        <div class="post-body">
          <div class="form-group">
            <div class="form-label">üìù Task Title</div>
            <input class="form-input" type="text" placeholder="e.g. Bring groceries from market" value="Market Run ‚Äì Mohammadpur Bazar">
          </div>
          <div class="form-group">
            <div class="form-label">üìñ Description</div>
            <textarea class="form-input" placeholder="What needs to be done? Include details...">Pick up 1kg chicken, 2kg rice, and fresh vegetables from Mohammadpur Bazar.</textarea>
          </div>
          <div class="form-group">
            <div class="form-label">üì∑ Attach Image (Optional)</div>
            <div class="upload-area">
              <div class="up-icon">üì∏</div>
              <div style="font-weight:600;">Tap to capture or upload</div>
              <div style="font-size:11px;margin-top:4px;color:var(--gray-300);">JPG, PNG ‚Äì max 5MB</div>
            </div>
          </div>
        </div>
        <div class="post-footer">
          <button class="btn-primary" onclick="nav('post2',null)">Next ‚Üí Set Location</button>
        </div>
      </div>

      <!-- =========================================
           S5 ¬∑ POST ‚Äì LOCATION
           ========================================= -->
      <div class="screen" id="screen-post2">
        <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        <div class="top-nav">
          <button class="nav-btn" onclick="nav('post1',null)">‚Äπ</button>
          <div class="nav-title">Location</div>
          <div style="width:36px;"></div>
        </div>
        <div class="post-header">
          <div class="step-bar">
            <div class="step-seg done"></div>
            <div class="step-seg active"></div>
            <div class="step-seg"></div>
            <div class="step-seg"></div>
          </div>
          <div class="step-title">Pickup & Delivery</div>
          <div class="step-sub">Step 2 of 4 ‚Äì Set your locations</div>
        </div>
        <div class="post-body">
          <div class="map-preview">
            <div class="map-pin" style="top:38%;left:32%;">üìç</div>
            <div class="map-pin" style="top:52%;left:62%;animation-delay:0.6s;">üè†</div>
          </div>
          <div class="curr-loc-btn">üìç Use my current location</div>
          <div class="loc-row">
            <div class="loc-icon">üü¢</div>
            <div class="loc-text">
              <div class="loc-label">Pickup Point</div>
              <div class="loc-val">Mohammadpur Bazar</div>
            </div>
            <span style="font-size:16px;color:var(--gray-300);">‚úèÔ∏è</span>
          </div>
          <div class="loc-row">
            <div class="loc-icon">üî¥</div>
            <div class="loc-text">
              <div class="loc-label">Delivery Point</div>
              <div class="loc-val">Dhanmondi 27, House 4</div>
            </div>
            <span style="font-size:16px;color:var(--gray-300);">‚úèÔ∏è</span>
          </div>
          <div style="background:var(--blue-light);border-radius:12px;padding:12px 14px;display:flex;gap:8px;border:1px solid rgba(37,99,235,0.18);margin-top:8px;">
            <span>üìè</span>
            <span style="font-size:12px;color:var(--blue-dark);font-weight:600;">Distance: ~1.8 km ¬∑ ETA: 20 minutes</span>
          </div>
        </div>
        <div class="post-footer">
          <button class="btn-primary" onclick="nav('post3',null)">Next ‚Üí Set Time</button>
        </div>
      </div>

      <!-- =========================================
           S6 ¬∑ POST ‚Äì TIME
           ========================================= -->
      <div class="screen" id="screen-post3">
        <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        <div class="top-nav">
          <button class="nav-btn" onclick="nav('post2',null)">‚Äπ</button>
          <div class="nav-title">Schedule</div>
          <div style="width:36px;"></div>
        </div>
        <div class="post-header">
          <div class="step-bar">
            <div class="step-seg done"></div>
            <div class="step-seg done"></div>
            <div class="step-seg active"></div>
            <div class="step-seg"></div>
          </div>
          <div class="step-title">When do you need it?</div>
          <div class="step-sub">Step 3 of 4 ‚Äì Choose timing</div>
        </div>
        <div class="post-body">
          <div class="time-opt selected" id="t-now" onclick="pickTime('now')">
            <div class="time-opt-icon">‚ö°</div>
            <div><div class="time-opt-title">Do it Now</div><div class="time-opt-sub">Rider search starts immediately</div></div>
            <div class="radio-dot"></div>
          </div>
          <div class="time-opt" id="t-later" onclick="pickTime('later')">
            <div class="time-opt-icon">‚è∞</div>
            <div><div class="time-opt-title">Schedule Later</div><div class="time-opt-sub">Pick a date and time</div></div>
            <div class="radio-dot"></div>
          </div>
          <div id="picker" style="display:none;">
            <div class="form-group" style="margin-top:12px;">
              <div class="form-label">üìÖ Date</div>
              <input class="form-input" type="date">
            </div>
            <div class="form-group">
              <div class="form-label">üïê Time</div>
              <input class="form-input" type="time" value="20:00">
            </div>
          </div>
          <div class="night-notice" style="margin-top:12px;">
            <div class="nn-icon">üåô</div>
            <div class="nn-text"><strong>Night Task Surcharge:</strong> Tasks after 10 PM include an additional ‡ß≥30 night fee.</div>
          </div>
        </div>
        <div class="post-footer">
          <button class="btn-primary" onclick="nav('post4',null)">Next ‚Üí Review Price</button>
        </div>
      </div>

      <!-- =========================================
           S7 ¬∑ PRICE & CONFIRM
           ========================================= -->
      <div class="screen" id="screen-post4">
        <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        <div class="top-nav">
          <button class="nav-btn" onclick="nav('post3',null)">‚Äπ</button>
          <div class="nav-title">Price & Confirm</div>
          <div style="width:36px;"></div>
        </div>
        <div class="post-header">
          <div class="step-bar">
            <div class="step-seg done"></div>
            <div class="step-seg done"></div>
            <div class="step-seg done"></div>
            <div class="step-seg active"></div>
          </div>
          <div class="step-title">Payment Summary</div>
          <div class="step-sub">Step 4 of 4 ‚Äì Review and confirm</div>
        </div>
        <div class="post-body">
          <div class="fee-hero">
            <div>
              <div class="fee-hero-label">Suggested Fee</div>
              <div class="fee-hero-sub">Editable amount</div>
            </div>
            <div style="display:flex;align-items:center;gap:6px;">
              <div class="fee-hero-val">‡ß≥80</div>
              <div style="background:var(--blue-mid);color:white;border-radius:8px;padding:4px 8px;font-size:12px;font-weight:700;cursor:pointer;">‚úèÔ∏è</div>
            </div>
          </div>
          <div class="fee-table">
            <div class="fee-row"><span>üõµ Rider fee</span><span style="font-weight:700;color:var(--gray-800);">‡ß≥80</span></div>
            <div class="fee-row"><span>üè¢ Platform fee</span><span style="font-weight:700;color:var(--gray-800);">‡ß≥15</span></div>
            <div class="fee-row"><span>üåô Night surcharge</span><span style="font-weight:700;color:var(--orange);">‡ß≥30</span></div>
            <div class="fee-row" style="background:#fff7ed;border-radius:8px;padding:8px 4px;">
              <span style="display:flex;align-items:center;gap:6px;">
                ‚ö° Surge pricing
                <span style="font-size:9px;font-weight:700;background:#f59e0b;color:white;padding:2px 6px;border-radius:6px;">1.5√ó</span>
              </span>
              <span style="font-weight:700;color:var(--orange);">‡ß≥40</span>
            </div>
            <div class="fee-row" style="border-top:2px solid var(--gray-100);padding-top:10px;margin-top:4px;"><span>üí≥ Total payable</span><span style="font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:var(--blue-dark);">‡ß≥165</span></div>
          </div>
          <div style="background:#fff7ed;border:1px solid #fde68a;border-radius:12px;padding:10px 13px;margin-top:10px;display:flex;gap:8px;align-items:flex-start;">
            <span>‚ö°</span>
            <span style="font-size:11px;color:#92400e;line-height:1.6;">‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶Ø‡¶º ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ö‡¶æ‡¶π‡¶ø‡¶¶‡¶æ ‡¶¨‡ßá‡¶∂‡¶ø ‡¶•‡¶æ‡¶ï‡¶æ‡¶Ø‡¶º ‡¶∏‡¶æ‡¶Æ‡¶Ø‡¶º‡¶ø‡¶ï surge ‡¶ö‡¶æ‡¶∞‡ßç‡¶ú ‡¶Ø‡ßã‡¶ó ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ï‡ßç‡¶∑‡¶£ ‡¶™‡¶∞‡ßá ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶¨‡¶ø‡¶ï ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§</span>
          </div>
          <div style="background:var(--gray-50);border-radius:16px;padding:14px;border:1px solid var(--gray-100);">
            <div style="font-size:11px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:10px;">Task Summary</div>
            <div style="display:flex;gap:8px;margin-bottom:6px;"><span style="font-size:12px;color:var(--gray-400);">üìù</span><span style="font-size:12px;color:var(--gray-700);">Market Run ‚Äì Mohammadpur Bazar</span></div>
            <div style="display:flex;gap:8px;margin-bottom:6px;"><span style="font-size:12px;color:var(--gray-400);">üìç</span><span style="font-size:12px;color:var(--gray-700);">Mohammadpur ‚Üí Dhanmondi 27</span></div>
            <div style="display:flex;gap:8px;"><span style="font-size:12px;color:var(--gray-400);">‚ö°</span><span style="font-size:12px;color:var(--gray-700);">Do it Now</span></div>
          </div>
        </div>
        <div class="post-footer">
          <button class="btn-primary" onclick="nav('finding-rider',null);setTimeout(startFindTimer,100)">‚úÖ Confirm & Post Task</button>
        </div>
      </div>

      <!-- =========================================
           S11b ¬∑ NO RIDER FOUND ‚Äî MAKE AN OFFER
           ========================================= -->
      <div class="screen" id="screen-negotiate" style="background:var(--gray-50);">
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:0 18px 20px;flex-shrink:0;position:relative;overflow:hidden;">
          <div style="position:absolute;top:-50px;right:-50px;width:180px;height:180px;background:rgba(255,255,255,0.05);border-radius:50%;"></div>
          <div class="status-bar light" style="position:relative;z-index:1;"><span>10:41</span><div>üì∂ üîã</div></div>

          <!-- Alert banner -->
          <div style="background:rgba(245,158,11,0.2);border:1px solid rgba(245,158,11,0.4);border-radius:14px;padding:12px 14px;margin-bottom:14px;position:relative;z-index:1;display:flex;gap:10px;align-items:flex-start;">
            <span style="font-size:18px;flex-shrink:0;">üòî</span>
            <div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:14px;font-weight:800;color:white;margin-bottom:3px;">‡¶ï‡ßã‡¶®‡ßã ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶®‡ßá‡¶®‡¶®‡¶ø</div>
              <div style="font-size:11px;color:rgba(255,255,255,0.7);line-height:1.5;">‡¶è‡¶á ‡¶Æ‡ßÅ‡¶π‡ßÇ‡¶∞‡ßç‡¶§‡ßá ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ‡¶Ø‡¶º ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶ï‡¶Æ‡•§ ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶¨‡ßá‡¶∂‡¶ø ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶Ö‡¶®‡ßá‡¶ï ‡¶¨‡ßá‡¶°‡¶º‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§</div>
            </div>
          </div>

          <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;position:relative;z-index:1;">‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶ö‡¶æ‡¶∞‡ßç‡¶ú ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶® üí∞</div>
          <div style="font-size:12px;color:rgba(255,255,255,0.6);margin-top:3px;position:relative;z-index:1;">‡¶¨‡ßá‡¶∂‡¶ø ‡¶Ö‡¶´‡¶æ‡¶∞ = ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞</div>
        </div>

        <div style="flex:1;overflow-y:auto;scrollbar-width:none;padding:16px 16px 100px;">

          <!-- Current offer info -->
          <div style="background:white;border-radius:16px;padding:14px 16px;border:1px solid var(--gray-100);box-shadow:var(--shadow-sm);margin-bottom:14px;display:flex;justify-content:space-between;align-items:center;">
            <div>
              <div style="font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Ö‡¶´‡¶æ‡¶∞</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:26px;font-weight:800;color:var(--gray-300);">‡ß≥80</div>
            </div>
            <div style="font-size:28px;">‚Üí</div>
            <div style="text-align:right;">
              <div style="font-size:10px;font-weight:700;color:var(--blue);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px;">‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡¶´‡¶æ‡¶∞</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:26px;font-weight:800;color:var(--blue-dark);" id="offer-display">‡ß≥120</div>
            </div>
          </div>

          <!-- Quick offer chips -->
          <div style="font-size:11px;font-weight:700;color:var(--gray-500);margin-bottom:10px;">‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶®</div>
          <div style="display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap;">
            <div onclick="setOffer(this,'100')" style="flex:1;min-width:60px;background:white;border:2px solid var(--gray-200);border-radius:12px;padding:10px 6px;text-align:center;cursor:pointer;font-weight:700;font-size:13px;color:var(--gray-700);">‡ß≥100</div>
            <div onclick="setOffer(this,'120')" style="flex:1;min-width:60px;background:var(--blue-light);border:2px solid var(--blue);border-radius:12px;padding:10px 6px;text-align:center;cursor:pointer;font-weight:700;font-size:13px;color:var(--blue-dark);">‡ß≥120 ‚≠ê</div>
            <div onclick="setOffer(this,'150')" style="flex:1;min-width:60px;background:white;border:2px solid var(--gray-200);border-radius:12px;padding:10px 6px;text-align:center;cursor:pointer;font-weight:700;font-size:13px;color:var(--gray-700);">‡ß≥150</div>
            <div onclick="setOffer(this,'200')" style="flex:1;min-width:60px;background:white;border:2px solid var(--gray-200);border-radius:12px;padding:10px 6px;text-align:center;cursor:pointer;font-weight:700;font-size:13px;color:var(--gray-700);">‡ß≥200</div>
          </div>

          <!-- Custom input -->
          <div style="font-size:11px;font-weight:700;color:var(--gray-500);margin-bottom:8px;">‡¶Ö‡¶•‡¶¨‡¶æ ‡¶®‡¶ø‡¶ú‡ßá ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</div>
          <div style="display:flex;align-items:center;background:white;border:2px solid var(--gray-200);border-radius:14px;overflow:hidden;margin-bottom:16px;">
            <span style="padding:0 14px;font-size:18px;font-weight:800;color:var(--gray-400);">‡ß≥</span>
            <input type="number" placeholder="‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£" oninput="document.getElementById('offer-display').textContent='‡ß≥'+(this.value||'120')" style="flex:1;border:none;outline:none;padding:14px 0;font-size:16px;font-weight:700;font-family:'DM Sans',sans-serif;color:var(--gray-900);">
          </div>

          <!-- Info -->
          <div style="background:#f0fdf4;border:1px solid #bbf7d0;border-radius:12px;padding:11px 13px;display:flex;gap:8px;align-items:flex-start;">
            <span>üí°</span>
            <span style="font-size:11px;color:#166534;line-height:1.6;">‡ß≥120 ‡¶¨‡¶æ ‡¶§‡¶æ‡¶∞ ‡¶¨‡ßá‡¶∂‡¶ø ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ ‡ß® ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡•§</span>
          </div>
        </div>

        <!-- Actions -->
        <div style="position:absolute;bottom:0;left:0;right:0;background:white;border-top:1px solid var(--gray-100);padding:12px 16px 28px;display:flex;gap:10px;">
          <button onclick="nav('home',null)" style="flex:1;background:var(--gray-100);color:var(--gray-500);border:none;border-radius:14px;padding:15px;font-size:14px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;">‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
          <button onclick="nav('finding-rider',null);setTimeout(startFindTimer,100)" style="flex:2;background:linear-gradient(135deg,var(--blue-mid),var(--blue-dark));color:white;border:none;border-radius:14px;padding:15px;font-size:14px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;box-shadow:0 4px 16px rgba(37,99,235,0.35);">üöÄ ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
        </div>

        <script>
          function setOffer(el, val) {
            document.querySelectorAll('[onclick^="setOffer"]').forEach(function(e){
              e.style.background='white'; e.style.border='2px solid var(--gray-200)'; e.style.color='var(--gray-700)';
            });
            el.style.background='var(--blue-light)'; el.style.border='2px solid var(--blue)'; el.style.color='var(--blue-dark)';
            document.getElementById('offer-display').textContent = '‡ß≥' + val;
          }
        </script>
      </div>


            <div class="screen" id="screen-finding-rider" style="background:linear-gradient(160deg,#0c1445,#1d4ed8,#06b6d4);">

        <!-- Status bar -->
        <div class="status-bar light" style="padding:44px 20px 6px;flex-shrink:0;"><span>10:41</span><div>üì∂ üîã</div></div>

        <!-- Radar -->
        <div style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;padding:0 24px;">
          <div class="radar-wrap">
            <div class="radar-ring"></div>
            <div class="radar-ring"></div>
            <div class="radar-ring"></div>
            <div class="radar-core">üõµ</div>
          </div>

          <div style="text-align:center;">
            <div class="finding-title">Finding a Rider...</div>
            <div class="finding-sub">Notifying nearby riders about your task</div>
          </div>

          <!-- 15s countdown -->
          <div style="position:relative;width:80px;height:80px;">
            <svg width="80" height="80" style="transform:rotate(-90deg);">
              <circle cx="40" cy="40" r="34" fill="none" stroke="rgba(255,255,255,0.15)" stroke-width="5"/>
              <circle id="timer-ring" cx="40" cy="40" r="34" fill="none" stroke="white" stroke-width="5" stroke-dasharray="213.6" stroke-dashoffset="0" style="transition:stroke-dashoffset 1s linear;"/>
            </svg>
            <div style="position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;">
              <div id="timer-count" style="font-family:'Space Grotesk',sans-serif;font-size:24px;font-weight:800;color:white;line-height:1;">15</div>
              <div style="font-size:9px;color:rgba(255,255,255,0.6);font-weight:600;">sec</div>
            </div>
          </div>

          <div style="background:rgba(255,255,255,0.12);border:1px solid rgba(255,255,255,0.2);border-radius:20px;padding:10px 20px;font-size:13px;font-weight:700;color:white;">üü¢ 14 riders available nearby</div>

          <div style="width:100%;">
            <button onclick="clearInterval(window._findTimer);nav('home',null)" style="width:100%;background:transparent;border:1.5px solid rgba(255,255,255,0.3);border-radius:14px;padding:14px;color:rgba(255,255,255,0.7);font-size:14px;font-weight:600;cursor:pointer;font-family:'DM Sans',sans-serif;">‚ùå Cancel Task</button>
          </div>
        </div>

        <script>
          function startFindTimer() {
            clearInterval(window._findTimer);
            var sec = 15;
            var circumference = 213.6;
            var tc = document.getElementById('timer-count');
            var tr = document.getElementById('timer-ring');
            if (!tc || !tr) return;
            tc.textContent = sec;
            tr.style.strokeDashoffset = 0;
            window._findTimer = setInterval(function(){
              sec--;
              if (tc) tc.textContent = sec;
              if (tr) tr.style.strokeDashoffset = ((15 - sec) / 15) * circumference;
              if (sec <= 0) {
                clearInterval(window._findTimer);
                var retries = (window._findRetries = (window._findRetries || 0) + 1);
                if (retries >= 3) {
                  window._findRetries = 0;
                  nav('counter-offer', null);
                } else {
                  nav('negotiate', null);
                }
              }
            }, 1000);
          }
        </script>
      </div>

      <!-- =========================================
           S11c ¬∑ RIDER COUNTER OFFER (to customer)
           ========================================= -->
      <div class="screen" id="screen-counter-offer" style="background:var(--gray-50);">
        <div style="background:linear-gradient(155deg,#065f46,#059669,#10b981);padding:0 18px 20px;flex-shrink:0;position:relative;overflow:hidden;">
          <div style="position:absolute;top:-50px;right:-50px;width:180px;height:180px;background:rgba(255,255,255,0.06);border-radius:50%;"></div>
          <div class="status-bar light" style="position:relative;z-index:1;"><span>10:41</span><div>üì∂ üîã</div></div>

          <div style="background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.3);border-radius:14px;padding:12px 14px;margin-bottom:14px;position:relative;z-index:1;display:flex;gap:10px;align-items:flex-start;">
            <span style="font-size:20px;flex-shrink:0;">üéâ</span>
            <div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:14px;font-weight:800;color:white;margin-bottom:3px;">‡¶è‡¶ï‡¶ú‡¶® ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßç‡¶∞‡¶π‡ßÄ!</div>
              <div style="font-size:11px;color:rgba(255,255,255,0.75);line-height:1.5;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞‡¶ü‡¶ø ‡¶®‡ßá‡¶ó‡ßã‡¶∂‡¶ø‡¶Ø‡¶º‡ßá‡¶∂‡¶® ‡¶∏‡ßá‡¶ï‡¶∂‡¶®‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡•§ ‡¶è‡¶ï‡¶ú‡¶® ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡¶® ‚Äî ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?</div>
            </div>
          </div>

          <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;position:relative;z-index:1;">‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶´‡¶æ‡¶∞ üí¨</div>
        </div>

        <div style="flex:1;overflow-y:auto;scrollbar-width:none;padding:16px 16px 110px;">

          <!-- Rider info -->
          <div style="background:white;border-radius:16px;padding:14px;border:1px solid var(--gray-100);box-shadow:var(--shadow-md);margin-bottom:14px;display:flex;align-items:center;gap:12px;">
            <div style="width:46px;height:46px;background:linear-gradient(135deg,var(--blue-mid),var(--accent));border-radius:13px;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0;">üßë</div>
            <div style="flex:1;">
              <div style="font-weight:700;font-size:14px;color:var(--gray-900);">Mahmud Hasan</div>
              <div style="font-size:11px;color:var(--gray-400);">‚≠ê 4.8 ¬∑ 1,240 tasks ¬∑ Honda CD-80</div>
            </div>
            <div style="background:#f0fdf4;border-radius:10px;padding:6px 10px;text-align:center;">
              <div style="font-size:9px;color:#166534;font-weight:700;">NEARBY</div>
              <div style="font-size:12px;color:#166534;font-weight:800;">0.6 km</div>
            </div>
          </div>

          <!-- Offer comparison -->
          <div style="background:white;border-radius:16px;padding:16px;border:1px solid var(--gray-100);box-shadow:var(--shadow-sm);margin-bottom:14px;">
            <div style="font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:14px;">‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶§‡ßÅ‡¶≤‡¶®‡¶æ</div>
            <div style="display:flex;align-items:center;margin-bottom:12px;">
              <div style="flex:1;background:var(--gray-50);border-radius:12px;padding:12px;text-align:center;border:1px solid var(--gray-100);">
                <div style="font-size:10px;color:var(--gray-400);font-weight:600;margin-bottom:4px;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶´‡¶æ‡¶∞</div>
                <div style="font-family:'Space Grotesk',sans-serif;font-size:22px;font-weight:800;color:var(--gray-400);">‡ß≥120</div>
              </div>
              <div style="padding:0 10px;font-size:20px;">‚ÜîÔ∏è</div>
              <div style="flex:1;background:linear-gradient(135deg,#f0fdf4,#dcfce7);border-radius:12px;padding:12px;text-align:center;border:2px solid #86efac;">
                <div style="font-size:10px;color:#166534;font-weight:700;margin-bottom:4px;">‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ö‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ</div>
                <div style="font-family:'Space Grotesk',sans-serif;font-size:22px;font-weight:800;color:#15803d;">‡ß≥160</div>
              </div>
            </div>
            <div style="background:var(--blue-light);border-radius:10px;padding:10px 12px;display:flex;justify-content:space-between;align-items:center;">
              <span style="font-size:12px;font-weight:600;color:var(--blue-dark);">‡¶™‡¶æ‡¶∞‡ßç‡¶•‡¶ï‡ßç‡¶Ø</span>
              <span style="font-family:'Space Grotesk',sans-serif;font-size:16px;font-weight:800;color:var(--blue-dark);">‡ß≥40 ‡¶¨‡ßá‡¶∂‡¶ø</span>
            </div>
          </div>

          <!-- Rider message -->
          <div style="background:white;border-radius:16px;padding:14px;border:1px solid var(--gray-100);box-shadow:var(--shadow-sm);margin-bottom:14px;">
            <div style="font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ</div>
            <div style="background:var(--gray-50);border-radius:10px;padding:10px 12px;font-size:13px;color:var(--gray-700);line-height:1.6;font-style:italic;">"‡¶≠‡¶æ‡¶á, ‡¶ü‡ßç‡¶∞‡¶æ‡¶´‡¶ø‡¶ï ‡¶¨‡ßá‡¶∂‡¶ø ‡¶Ü‡¶õ‡ßá ‡¶è‡¶ñ‡¶®‡•§ ‡ß≥160 ‡¶π‡¶≤‡ßá ‡¶è‡¶ñ‡¶®‡¶á ‡¶¨‡ßá‡¶∞ ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø‡•§"</div>
          </div>

          <!-- Counter input -->
          <div style="background:white;border-radius:16px;padding:14px;border:1px solid var(--gray-100);box-shadow:var(--shadow-sm);">
            <div style="font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:10px;">‡¶Ü‡¶™‡¶®‡¶ø‡¶ì ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®</div>
            <div style="display:flex;align-items:center;background:var(--gray-50);border:2px solid var(--gray-200);border-radius:12px;overflow:hidden;">
              <span style="padding:0 12px;font-size:16px;font-weight:800;color:var(--gray-400);">‡ß≥</span>
              <input type="number" placeholder="140" style="flex:1;border:none;outline:none;padding:12px 0;font-size:16px;font-weight:700;font-family:'DM Sans',sans-serif;color:var(--gray-900);background:transparent;">
            </div>
          </div>
        </div>

        <!-- Actions -->
        <div style="position:absolute;bottom:0;left:0;right:0;background:white;border-top:1px solid var(--gray-100);padding:12px 16px 28px;display:flex;flex-direction:column;gap:8px;">
          <button onclick="nav('assigned',null)" style="width:100%;background:linear-gradient(135deg,var(--green),#059669);color:white;border:none;border-radius:14px;padding:15px;font-size:14px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;box-shadow:0 4px 16px rgba(16,185,129,0.4);">‚úÖ ‡ß≥160 ‡¶§‡ßá ‡¶∞‡¶æ‡¶ú‡¶ø ‚Äî ‡¶è‡¶ï‡¶∏‡ßá‡¶™‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
          <div style="display:flex;gap:8px;">
            <button onclick="nav('negotiate',null)" style="flex:1;background:var(--blue-light);color:var(--blue-dark);border:none;border-radius:12px;padding:12px;font-size:13px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;">‚Ü© ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®</button>
            <button onclick="nav('home',null)" style="flex:1;background:var(--gray-100);color:var(--gray-500);border:none;border-radius:12px;padding:12px;font-size:13px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;">‚ùå ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤</button>
          </div>
        </div>
      </div>

      <!-- =========================================
           S9 ¬∑ LIVE TRACKING
           ========================================= -->
      <div class="screen" id="screen-assigned" style="background:var(--gray-50);">

        <!-- Status bar -->
        <div style="position:absolute;top:0;left:0;right:0;z-index:20;">
          <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        </div>

        <!-- Map Area -->
        <div style="height:290px;background:linear-gradient(135deg,#e0f2fe,#dbeafe);position:relative;overflow:hidden;flex-shrink:0;" id="map-area">
          <!-- Grid -->
          <div style="position:absolute;inset:0;background-image:linear-gradient(rgba(37,99,235,0.07) 1px,transparent 1px),linear-gradient(90deg,rgba(37,99,235,0.07) 1px,transparent 1px);background-size:28px 28px;"></div>
          <!-- Roads -->
          <div style="position:absolute;height:5px;background:rgba(255,255,255,0.8);left:0;right:0;top:150px;"></div>
          <div style="position:absolute;height:5px;background:rgba(255,255,255,0.8);left:0;right:0;top:220px;"></div>
          <div style="position:absolute;width:5px;background:rgba(255,255,255,0.8);top:0;bottom:0;left:110px;"></div>
          <div style="position:absolute;width:5px;background:rgba(255,255,255,0.8);top:0;bottom:0;left:255px;"></div>

          <!-- Route: Rider ‚Üí Pickup -->
          <div id="route-a" style="position:absolute;top:144px;left:80px;width:90px;height:2px;background:repeating-linear-gradient(90deg,var(--orange) 0,var(--orange) 7px,transparent 7px,transparent 13px);opacity:0.8;transform:rotate(-8deg);transition:opacity 0.4s;"></div>
          <!-- Route: Pickup ‚Üí Home -->
          <div id="route-b" style="position:absolute;top:144px;left:155px;width:115px;height:2px;background:repeating-linear-gradient(90deg,var(--green) 0,var(--green) 7px,transparent 7px,transparent 13px);opacity:0.5;transform:rotate(-3deg);transition:opacity 0.4s;"></div>

          <!-- Pickup Pin -->
          <div style="position:absolute;left:148px;top:90px;display:flex;flex-direction:column;align-items:center;transform:translateX(-50%);" id="pin-pickup">
            <div style="width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--orange),#d97706);display:flex;align-items:center;justify-content:center;font-size:17px;border:3px solid white;box-shadow:0 4px 12px rgba(245,158,11,0.45);">üì¶</div>
            <div style="font-size:8px;font-weight:700;color:var(--gray-700);background:white;padding:2px 6px;border-radius:5px;margin-top:3px;box-shadow:0 1px 4px rgba(0,0,0,0.1);">Pickup</div>
          </div>

          <!-- Home Pin -->
          <div style="position:absolute;left:275px;top:105px;display:flex;flex-direction:column;align-items:center;transform:translateX(-50%);" id="pin-home">
            <div style="width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--green),#059669);display:flex;align-items:center;justify-content:center;font-size:17px;border:3px solid white;box-shadow:0 4px 12px rgba(16,185,129,0.45);">üè†</div>
            <div style="font-size:8px;font-weight:700;color:var(--gray-700);background:white;padding:2px 6px;border-radius:5px;margin-top:3px;box-shadow:0 1px 4px rgba(0,0,0,0.1);">Your Home</div>
          </div>

          <!-- Rider Pin (animated position) -->
          <div id="pin-rider" style="position:absolute;display:flex;flex-direction:column;align-items:center;transition:left 1.2s cubic-bezier(0.4,0,0.2,1),top 1.2s cubic-bezier(0.4,0,0.2,1);left:60px;top:98px;transform:translateX(-50%);">
            <div style="width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--blue-mid),var(--blue-dark));display:flex;align-items:center;justify-content:center;font-size:19px;border:3px solid white;box-shadow:0 4px 16px rgba(37,99,235,0.5);animation:riderBounce 2s ease-in-out infinite;">üõµ</div>
            <div style="font-size:8px;font-weight:700;color:var(--gray-700);background:white;padding:2px 6px;border-radius:5px;margin-top:3px;box-shadow:0 1px 4px rgba(0,0,0,0.1);white-space:nowrap;">Mahmud</div>
          </div>

          <!-- ETA pill -->
          <div style="position:absolute;top:48px;left:50%;transform:translateX(-50%);background:white;border-radius:20px;padding:7px 16px;box-shadow:0 4px 16px rgba(0,0,0,0.12);display:flex;align-items:center;gap:7px;white-space:nowrap;z-index:5;">
            <div style="width:7px;height:7px;border-radius:50%;background:var(--green);animation:etaBlink 1.2s ease-in-out infinite;"></div>
            <span id="eta-text" style="font-weight:700;font-size:12px;color:var(--gray-900);">Rider heading to pickup ¬∑ ~5 min</span>
          </div>
        </div>

        <!-- Bottom sheet -->
        <div style="background:white;border-radius:22px 22px 0 0;margin-top:-18px;flex:1;overflow-y:auto;scrollbar-width:none;padding:14px 16px 100px;box-shadow:0 -6px 24px rgba(37,99,235,0.1);position:relative;z-index:2;">
          <div style="width:32px;height:4px;background:var(--gray-200);border-radius:4px;margin:0 auto 14px;"></div>

          <!-- Rider card -->
          <div style="display:flex;align-items:center;gap:12px;padding:12px 14px;background:var(--gray-50);border-radius:14px;border:1px solid var(--gray-100);margin-bottom:12px;">
            <div style="width:44px;height:44px;border-radius:13px;background:linear-gradient(135deg,var(--blue-mid),var(--accent));display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;">üßë</div>
            <div style="flex:1;">
              <div style="font-weight:700;font-size:14px;color:var(--gray-900);">Mahmud Hasan</div>
              <div style="font-size:11px;color:var(--gray-400);">‚≠ê 4.8 ¬∑ Honda CD-80 ¬∑ G-234</div>
            </div>
            <div style="display:flex;gap:7px;">
              <button style="width:36px;height:36px;border-radius:10px;border:none;background:var(--blue-light);cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;">üìû</button>
              <button style="width:36px;height:36px;border-radius:10px;border:none;background:var(--gray-100);cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;">üí¨</button>
            </div>
          </div>

          <!-- Warning note -->
          <div style="display:flex;gap:9px;align-items:flex-start;background:#fffbeb;border:1px solid #fde68a;border-radius:12px;padding:11px 13px;margin-bottom:14px;">
            <span style="font-size:15px;flex-shrink:0;">‚ö†Ô∏è</span>
            <span style="font-size:11px;color:#92400e;line-height:1.6;font-weight:500;">‡¶™‡¶£‡ßç‡¶Ø ‡¶¨‡ßÅ‡¶ù‡ßá ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ <strong>‡¶™‡¶∞‡ßá‡¶á</strong> ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞‡¶ï‡ßá ‡¶¶‡¶ø‡¶®‡•§ ‡¶ï‡ßã‡¶° ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Æ‡¶æ‡¶®‡ßá ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‚Äî ‡¶è‡¶∞‡¶™‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó ‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶π‡¶¨‡ßá ‡¶®‡¶æ‡•§</span>
          </div>

          <!-- 3 Stage Progress -->
          <div style="font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px;">Delivery Progress</div>

          <!-- Verification Code -->
          <div style="background:linear-gradient(135deg,#0c1445,#1d4ed8);border-radius:16px;padding:14px 16px;margin-bottom:14px;display:flex;align-items:center;justify-content:space-between;">
            <div>
              <div style="font-size:10px;font-weight:700;color:rgba(255,255,255,0.5);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px;">üîê Delivery Code</div>
              <div style="font-size:10px;color:rgba(255,255,255,0.45);">Share with rider on delivery</div>
            </div>
            <div style="display:flex;gap:6px;">
              <div id="code-d1" style="width:36px;height:42px;background:rgba(255,255,255,0.12);border:1.5px solid rgba(255,255,255,0.2);border-radius:10px;display:flex;align-items:center;justify-content:center;font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:white;"></div>
              <div id="code-d2" style="width:36px;height:42px;background:rgba(255,255,255,0.12);border:1.5px solid rgba(255,255,255,0.2);border-radius:10px;display:flex;align-items:center;justify-content:center;font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:white;"></div>
              <div id="code-d3" style="width:36px;height:42px;background:rgba(255,255,255,0.12);border:1.5px solid rgba(255,255,255,0.2);border-radius:10px;display:flex;align-items:center;justify-content:center;font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:white;"></div>
              <div id="code-d4" style="width:36px;height:42px;background:rgba(255,255,255,0.12);border:1.5px solid rgba(255,255,255,0.2);border-radius:10px;display:flex;align-items:center;justify-content:center;font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:white;"></div>
            </div>
          </div>

          <div id="progress-steps">

            <!-- Stage 1: Order Accepted ‚úì -->
            <div id="step-1" style="display:flex;gap:12px;align-items:flex-start;position:relative;">
              <div style="position:absolute;left:13px;top:26px;width:2px;height:calc(100% + 16px);background:var(--green);z-index:0;"></div>
              <div style="width:26px;height:26px;background:var(--green);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;color:white;flex-shrink:0;position:relative;z-index:1;">‚úì</div>
              <div style="padding-top:2px;padding-bottom:18px;flex:1;">
                <div style="display:flex;justify-content:space-between;align-items:center;">
                  <div style="font-weight:700;font-size:13px;color:var(--green);">Order Accepted</div>
                  <div style="font-size:10px;font-weight:700;color:var(--green);background:#d1fae5;padding:2px 8px;border-radius:6px;" id="time-1">10:28 AM</div>
                </div>
                <div style="font-size:11px;color:var(--gray-400);margin-top:2px;">Mahmud accepted your offer</div>
              </div>
            </div>

            <!-- Stage 2: Pickup (active) -->
            <div id="step-2" style="display:flex;gap:12px;align-items:flex-start;position:relative;">
              <div style="position:absolute;left:13px;top:26px;width:2px;height:calc(100% + 16px);background:var(--gray-200);z-index:0;" id="line-2"></div>
              <div id="dot-2" style="width:26px;height:26px;background:var(--blue);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0;position:relative;z-index:1;box-shadow:0 0 0 4px rgba(37,99,235,0.15);animation:riderBounce 1.8s infinite;">üõµ</div>
              <div style="padding-top:2px;padding-bottom:18px;flex:1;">
                <div style="display:flex;justify-content:space-between;align-items:center;">
                  <div id="label-2" style="font-weight:700;font-size:13px;color:var(--blue);">Heading to Pickup</div>
                  <div id="time-2" style="font-size:10px;font-weight:700;color:var(--blue);background:var(--blue-light);padding:2px 8px;border-radius:6px;">In progress</div>
                </div>
                <div id="sub-2" style="font-size:11px;color:var(--gray-400);margin-top:2px;">Mohammadpur Bazar</div>
              </div>
            </div>

            <!-- Stage 3: Delivered (pending) -->
            <div id="step-3" style="display:flex;gap:12px;align-items:flex-start;">
              <div id="dot-3" style="width:26px;height:26px;background:var(--gray-100);border-radius:50%;flex-shrink:0;border:2px solid var(--gray-200);"></div>
              <div style="padding-top:2px;flex:1;">
                <div style="display:flex;justify-content:space-between;align-items:center;">
                  <div id="label-3" style="font-weight:600;font-size:13px;color:var(--gray-300);">Delivered</div>
                  <div id="time-3" style="font-size:10px;font-weight:600;color:var(--gray-300);background:var(--gray-100);padding:2px 8px;border-radius:6px;">Est. 10:49 AM</div>
                </div>
                <div id="sub-3" style="font-size:11px;color:var(--gray-300);margin-top:2px;">Dhanmondi 27, House 4</div>
              </div>
            </div>

          </div>
        </div>

        <!-- No CTA ‚Äî customer only watches. Rider controls status from their screen. -->

        <style>
          @keyframes riderBounce { 0%,100%{transform:scale(1)} 50%{transform:scale(1.1)} }
          @keyframes etaBlink { 0%,100%{opacity:1} 50%{opacity:0.35} }
        </style>

        <script>
          // Generate 4-digit code on load
          (function(){
            var code = Math.floor(1000 + Math.random() * 9000).toString();
            document.getElementById('code-d1').textContent = code[0];
            document.getElementById('code-d2').textContent = code[1];
            document.getElementById('code-d3').textContent = code[2];
            document.getElementById('code-d4').textContent = code[3];
          })();

          function nowTime() {
            var d = new Date(); var h = d.getHours(); var m = d.getMinutes();
            var ampm = h >= 12 ? 'PM' : 'AM'; h = h % 12 || 12;
            return h + ':' + (m < 10 ? '0'+m : m) + ' ' + ampm;
          }

          // Called from sidebar ‚Äî simulates rider marking item as picked up
          function sim12stage2() {
            setTimeout(function(){
              var t = nowTime();
              var r = document.getElementById('pin-rider');
              if(r) { r.style.left = '215px'; r.style.top = '100px'; }
              var ra = document.getElementById('route-a'); if(ra) ra.style.opacity = '0.25';
              var rb = document.getElementById('route-b'); if(rb) rb.style.opacity = '0.9';
              var et = document.getElementById('eta-text'); if(et) et.textContent = 'Item picked up ¬∑ heading to you ¬∑ ~8 min';
              var d2 = document.getElementById('dot-2');
              if(d2){ d2.style.background='var(--green)'; d2.style.boxShadow='none'; d2.style.animation='none'; d2.textContent='‚úì'; d2.style.color='white'; }
              var l2 = document.getElementById('label-2'); if(l2){ l2.style.color='var(--green)'; l2.textContent='Item Picked Up'; }
              var s2 = document.getElementById('sub-2'); if(s2) s2.textContent='Collected from Mohammadpur Bazar';
              var t2 = document.getElementById('time-2'); if(t2){ t2.textContent=t; t2.style.color='var(--green)'; t2.style.background='#d1fae5'; }
              var ln2 = document.getElementById('line-2'); if(ln2) ln2.style.background='var(--green)';
              var d3 = document.getElementById('dot-3');
              if(d3){ d3.style.background='var(--blue)'; d3.style.border='none'; d3.style.boxShadow='0 0 0 4px rgba(37,99,235,0.15)'; d3.style.animation='riderBounce 1.8s infinite'; d3.textContent='üõµ'; d3.style.fontSize='12px'; }
              var l3 = document.getElementById('label-3'); if(l3){ l3.style.color='var(--blue)'; l3.textContent='Delivering to you'; }
              var t3 = document.getElementById('time-3'); if(t3){ t3.style.color='var(--blue)'; t3.style.background='var(--blue-light)'; t3.textContent='In progress'; }
              var s3 = document.getElementById('sub-3'); if(s3){ s3.style.color='var(--gray-400)'; s3.textContent='Dhanmondi 27, House 4'; }
            }, 100);
          }
        </script>
      </div>

      <!-- =========================================
           S10 ¬∑ TASK COMPLETED
           ========================================= -->
      <div class="screen" id="screen-completed">
        <div class="complete-hero">
          <div class="success-ring">‚úÖ</div>
          <div class="c-title">Task Completed!</div>
          <div class="c-sub">Mahmud Hasan delivered your task successfully</div>
        </div>
        <div class="scroll-content" style="padding:20px 18px;flex:1;overflow-y:auto;scrollbar-width:none;padding-bottom:30px;">
          <div class="card" style="margin-bottom:16px;text-align:center;">
            <div style="font-size:11px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:8px;">Rate your rider</div>
            <div class="star-row" id="stars">
              <span class="star active" onclick="rateStar(1)">‚≠ê</span>
              <span class="star active" onclick="rateStar(2)">‚≠ê</span>
              <span class="star active" onclick="rateStar(3)">‚≠ê</span>
              <span class="star active" onclick="rateStar(4)">‚≠ê</span>
              <span class="star" onclick="rateStar(5)">‚≠ê</span>
            </div>
            <div style="font-size:13px;color:var(--gray-400);">4 out of 5 stars</div>
          </div>
          <div class="form-group" style="margin-bottom:14px;">
            <div class="form-label">üí¨ Leave a Review (Optional)</div>
            <textarea class="form-input" placeholder="How was Mahmud's service?..." style="height:70px;"></textarea>
          </div>
          <div class="form-group" style="margin-bottom:16px;">
            <div class="form-label">üí∞ Add a Tip (Optional)</div>
            <div class="tip-row">
              <div class="tip-chip" onclick="selectTip(this)">‡ß≥10</div>
              <div class="tip-chip active" onclick="selectTip(this)">‡ß≥20</div>
              <div class="tip-chip" onclick="selectTip(this)">‡ß≥50</div>
              <div class="tip-chip" onclick="selectTip(this)">Other</div>
            </div>
          </div>
          <div style="background:var(--blue-light);border-radius:16px;padding:14px 16px;border:1px solid rgba(37,99,235,0.15);margin-bottom:16px;display:flex;justify-content:space-between;align-items:center;">
            <div><div style="font-size:12px;color:var(--gray-500);">Total paid</div><div style="font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:var(--blue-dark);">‡ß≥125</div></div>
            <div style="text-align:right;"><div style="font-size:12px;color:var(--gray-500);">Time taken</div><div style="font-size:14px;font-weight:700;color:var(--gray-700);">23 mins</div></div>
          </div>
          <button class="btn-primary" onclick="nav('home',null)" style="margin-bottom:10px;">‚úÖ Submit Review</button>
          <button class="btn-secondary" onclick="nav('home',null)">Back to Home</button>
        </div>
      </div>

      <!-- =========================================
           S11 ¬∑ ACTIVITY
           ========================================= -->
      <div class="screen" id="screen-activity">
        <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        <div class="top-nav">
          <div style="width:36px;"></div>
          <div class="nav-title">Activity</div>
          <div style="width:36px;"></div>
        </div>
        <div class="tab-bar">
          <div class="tab-item active" id="tb-running" onclick="switchTab('running')">Running</div>
          <div class="tab-item" id="tb-completed" onclick="switchTab('completed')">Completed</div>
          <div class="tab-item" id="tb-cancelled" onclick="switchTab('cancelled')">Cancelled</div>
        </div>
        <div class="scroll-content" style="padding-top:14px;">
          <div id="tc-running">
            <div class="task-card" onclick="nav('assigned',null)">
              <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px;">
                <div><div class="tc-title">üõí Market Run</div><div class="tc-meta">üìç Mohammadpur ‚Üí Dhanmondi ¬∑ Today 10:30</div></div>
                <div class="status-badge badge-running">Running</div>
              </div>
              <div style="background:var(--blue-light);border-radius:8px;padding:8px 10px;font-size:11px;color:var(--blue-dark);font-weight:600;">üõµ Rider Mahmud is on his way ‚Äì ETA 12 min</div>
              <div class="tc-bottom"><div class="tc-fee">‡ß≥125</div><div style="font-size:12px;color:var(--blue);font-weight:600;cursor:pointer;">Track ‚Üí</div></div>
            </div>
          </div>
          <div id="tc-completed" style="display:none;">
            <div class="task-card">
              <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
                <div><div class="tc-title">üíä Pharmacy Delivery</div><div class="tc-meta">üìç Mirpur-1 ‚Üí Mirpur-2 ¬∑ Yesterday</div></div>
                <div class="status-badge badge-done">Done</div>
              </div>
              <div class="tc-bottom"><div class="tc-fee">‡ß≥90</div><div style="font-size:11px;color:var(--gray-400);">‚≠ê You rated 5/5</div></div>
            </div>
            <div class="task-card">
              <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
                <div><div class="tc-title">üìÑ Document Pickup</div><div class="tc-meta">üìç Motijheel ‚Üí Gulshan ¬∑ 2 days ago</div></div>
                <div class="status-badge badge-done">Done</div>
              </div>
              <div class="tc-bottom"><div class="tc-fee">‡ß≥150</div><div style="font-size:11px;color:var(--gray-400);">‚≠ê You rated 4/5</div></div>
            </div>
          </div>
          <div id="tc-cancelled" style="display:none;">
            <div class="task-card">
              <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
                <div><div class="tc-title">üéÅ Gift Delivery</div><div class="tc-meta">üìç Banani ‚Üí Uttara ¬∑ 3 days ago</div></div>
                <div class="status-badge badge-cancelled">Cancelled</div>
              </div>
              <div class="tc-bottom"><div class="tc-fee" style="color:var(--green);">Refunded</div><div style="font-size:12px;color:var(--gray-400);">No riders available</div></div>
            </div>
          </div>
        </div>
        <div class="bottom-nav">
          <div class="bnav-item" onclick="nav('home',null)"><div class="bnav-icon">üè†</div><div>Home</div><div class="bnav-dot"></div></div>
          <div class="bnav-item active"><div class="bnav-icon">üìã</div><div style="font-size:9px;font-weight:700;color:var(--blue);">Activity</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('notifications',null)"><div class="bnav-icon">üîî</div><div>Alerts</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('account',null)"><div class="bnav-icon">üë§</div><div>Account</div><div class="bnav-dot"></div></div>
        </div>
      </div>

      <!-- =========================================
           S12 ¬∑ NOTIFICATIONS
           ========================================= -->
      <div class="screen" id="screen-notifications">
        <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        <div class="top-nav">
          <div style="width:36px;"></div>
          <div class="nav-title">Notifications</div>
          <div style="font-size:12px;color:var(--blue);font-weight:700;cursor:pointer;padding:8px;">Mark all read</div>
        </div>
        <div class="scroll-content" style="padding-bottom:20px;">
          <div style="padding:10px 16px 6px;font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1.2px;">Today</div>
          <div class="notif-item unread">
            <div class="notif-icon-box" style="background:#fef3c7;">üõµ</div>
            <div class="notif-info"><div class="notif-title">Rider Accepted</div><div class="notif-desc">Mahmud Hasan accepted your Market Run task</div><div class="notif-time">10 mins ago</div></div>
          </div>
          <div class="notif-item unread">
            <div class="notif-icon-box" style="background:#d1fae5;">üìç</div>
            <div class="notif-info"><div class="notif-title">Rider Arrived</div><div class="notif-desc">Mahmud has arrived at Mohammadpur Bazar</div><div class="notif-time">5 mins ago</div></div>
          </div>
          <div class="notif-item unread">
            <div class="notif-icon-box" style="background:#dbeafe;">‚≠ê</div>
            <div class="notif-info"><div class="notif-title">Rating Reminder</div><div class="notif-desc">Don't forget to rate your Pharmacy Delivery rider</div><div class="notif-time">1 hour ago</div></div>
          </div>
          <div style="padding:10px 16px 6px;font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1.2px;">Yesterday</div>
          <div class="notif-item">
            <div class="notif-icon-box" style="background:#d1fae5;">‚úÖ</div>
            <div class="notif-info"><div class="notif-title">Task Completed!</div><div class="notif-desc">Your Pharmacy Delivery was completed successfully</div><div class="notif-time">Yesterday 9:15 PM</div></div>
          </div>
          <div class="notif-item">
            <div class="notif-icon-box" style="background:#fee2e2;">üéâ</div>
            <div class="notif-info"><div class="notif-title">Special Offer!</div><div class="notif-desc">Get 20% off on your next 3 tasks. Use code: TASKO20</div><div class="notif-time">Yesterday 12:00 PM</div></div>
          </div>
        </div>
        <div class="bottom-nav">
          <div class="bnav-item" onclick="nav('home',null)"><div class="bnav-icon">üè†</div><div>Home</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('activity',null)"><div class="bnav-icon">üìã</div><div>Activity</div><div class="bnav-dot"></div></div>
          <div class="bnav-item active"><div class="bnav-icon">üîî</div><div style="font-size:9px;font-weight:700;color:var(--blue);">Alerts</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('account',null)"><div class="bnav-icon">üë§</div><div>Account</div><div class="bnav-dot"></div></div>
        </div>
      </div>

      <!-- =========================================
           S13 ¬∑ ACCOUNT
           ========================================= -->
      <div class="screen" id="screen-account" style="background:var(--gray-50);">
        <!-- Header -->
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:44px 18px 20px;flex-shrink:0;position:relative;overflow:hidden;">
          <div style="position:absolute;top:-50px;right:-50px;width:160px;height:160px;background:rgba(255,255,255,0.05);border-radius:50%;"></div>
          <div style="display:flex;align-items:center;gap:12px;position:relative;z-index:1;">
            <div style="width:52px;height:52px;background:rgba(255,255,255,0.15);border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:26px;border:2px solid rgba(255,255,255,0.2);">üßë</div>
            <div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">Rafi Ahmed</div>
              <div style="font-size:11px;color:rgba(255,255,255,0.6);">+880 1712 345678 ¬∑ ‚≠ê 4.9</div>
            </div>
          </div>
        </div>

        <!-- Wallet Card -->
        <div style="margin:16px 16px 0;background:linear-gradient(135deg,#0c1445,#1d4ed8);border-radius:20px;padding:18px 20px;box-shadow:0 8px 32px rgba(37,99,235,0.35);">
          <div style="font-size:10px;font-weight:700;color:rgba(255,255,255,0.5);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px;">üí≥ Tasko Wallet</div>
          <div style="font-family:'Space Grotesk',sans-serif;font-size:36px;font-weight:800;color:white;margin-bottom:2px;">‡ß≥1,250<span style="font-size:14px;opacity:0.5;">.00</span></div>
          <div style="font-size:11px;color:rgba(255,255,255,0.45);margin-bottom:16px;">Available Balance</div>
          <div style="display:flex;gap:10px;">
            <button onclick="nav('c-add-money',null)" style="flex:1;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.25);border-radius:12px;padding:11px;color:white;font-size:13px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;">‚ûï Add Money</button>
            <button onclick="nav('c-txn-history',null)" style="flex:1;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.25);border-radius:12px;padding:11px;color:white;font-size:13px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;">üìã History</button>
          </div>
        </div>

        <div style="flex:1;overflow-y:auto;padding:14px 16px 90px;scrollbar-width:none;">
          <div class="menu-section">
            <div class="menu-section-title">üìç Saved Locations</div>
            <div class="menu-item"><div class="mi-icon">üè†</div><div class="mi-label">Home ‚Äì Dhanmondi 27</div><div class="mi-arrow">‚Ä∫</div></div>
            <div class="menu-item"><div class="mi-icon">üè¢</div><div class="mi-label">Office ‚Äì Gulshan 1</div><div class="mi-arrow">‚Ä∫</div></div>
          </div>
          <div class="menu-section">
            <div class="menu-section-title">üí≥ Payment</div>
            <div class="menu-item" onclick="nav('c-add-money',null)"><div class="mi-icon">‚ûï</div><div class="mi-label">Add Money to Wallet</div><div class="mi-arrow">‚Ä∫</div></div>
            <div class="menu-item" onclick="nav('c-txn-history',null)"><div class="mi-icon">üìã</div><div class="mi-label">Transaction History</div><div class="mi-arrow">‚Ä∫</div></div>
            <div class="menu-item"><div class="mi-icon">üéüÔ∏è</div><div class="mi-label">Promo Code</div><div class="mi-arrow">‚Ä∫</div></div>
          </div>
          <div class="menu-section">
            <div class="menu-section-title">‚ÑπÔ∏è More</div>
            <div class="menu-item" onclick="nav('settings',null)"><div class="mi-icon">‚öôÔ∏è</div><div class="mi-label">Settings</div><div class="mi-arrow">‚Ä∫</div></div>
            <div class="menu-item"><div class="mi-icon">üí¨</div><div class="mi-label">Customer Support</div><div class="mi-arrow">‚Ä∫</div></div>
          </div>
          <button class="logout-btn">üö™ Log Out</button>
        </div>
        <div class="bottom-nav">
          <div class="bnav-item" onclick="nav('home',null)"><div class="bnav-icon">üè†</div><div>Home</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('activity',null)"><div class="bnav-icon">üìã</div><div>Activity</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('notifications',null)"><div class="bnav-icon">üîî</div><div>Alerts</div><div class="bnav-dot"></div></div>
          <div class="bnav-item active"><div class="bnav-icon">üë§</div><div style="font-size:9px;font-weight:700;color:var(--blue);">Account</div><div class="bnav-dot"></div></div>
        </div>
      </div>

      <!-- =========================================
           C11a ¬∑ ADD MONEY (Customer)
           ========================================= -->
      <div class="screen" id="screen-c-add-money" style="background:var(--gray-50);">
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:44px 18px 20px;flex-shrink:0;">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:4px;">
            <button onclick="nav('account',null)" style="background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;">‚Äπ</button>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">Add Money</div>
          </div>
          <div style="font-size:11px;color:rgba(255,255,255,0.5);padding-left:46px;">Current balance: ‡ß≥1,250.00</div>
        </div>
        <div style="flex:1;overflow-y:auto;padding:16px 16px 100px;scrollbar-width:none;">
          <div style="background:white;border-radius:18px;padding:20px;border:1.5px solid var(--gray-100);margin-bottom:14px;">
            <div style="font-size:11px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px;">‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</div>
            <div style="display:flex;align-items:center;gap:8px;background:var(--gray-50);border-radius:14px;padding:14px 16px;border:2px solid var(--gray-200);">
              <span style="font-family:'Space Grotesk',sans-serif;font-size:24px;font-weight:800;color:var(--gray-400);">‡ß≥</span>
              <input id="c-amt-input" type="number" placeholder="0" oninput="updateCTotal(this.value)" style="flex:1;border:none;outline:none;font-family:'Space Grotesk',sans-serif;font-size:28px;font-weight:800;color:var(--gray-900);background:transparent;width:100%;">
            </div>
            <div style="display:flex;gap:8px;margin-top:12px;">
              <div onclick="setCAmt(100)" style="flex:1;background:var(--blue-light);border-radius:10px;padding:8px;text-align:center;font-size:12px;font-weight:700;color:var(--blue-dark);cursor:pointer;">‡ß≥100</div>
              <div onclick="setCAmt(250)" style="flex:1;background:var(--blue-light);border-radius:10px;padding:8px;text-align:center;font-size:12px;font-weight:700;color:var(--blue-dark);cursor:pointer;">‡ß≥250</div>
              <div onclick="setCAmt(500)" style="flex:1;background:var(--blue-light);border-radius:10px;padding:8px;text-align:center;font-size:12px;font-weight:700;color:var(--blue-dark);cursor:pointer;">‡ß≥500</div>
              <div onclick="setCAmt(1000)" style="flex:1;background:var(--blue-light);border-radius:10px;padding:8px;text-align:center;font-size:12px;font-weight:700;color:var(--blue-dark);cursor:pointer;">‡ß≥1,000</div>
            </div>
          </div>
          <div style="background:white;border-radius:18px;padding:16px;border:1.5px solid var(--gray-100);margin-bottom:14px;">
            <div style="font-size:11px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px;">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ</div>
            <div id="pm-bkash" onclick="selectPM('bkash')" style="display:flex;align-items:center;gap:12px;padding:12px;border-radius:14px;border:2px solid var(--blue);background:var(--blue-light);cursor:pointer;margin-bottom:8px;">
              <div style="width:40px;height:40px;background:#e91e8c;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:900;color:white;font-family:'Space Grotesk',sans-serif;">b</div>
              <div style="flex:1;font-weight:700;font-size:13px;">bKash</div>
              <div style="width:18px;height:18px;background:var(--blue);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;color:white;" id="pm-bkash-check">‚úì</div>
            </div>
            <div id="pm-nagad" onclick="selectPM('nagad')" style="display:flex;align-items:center;gap:12px;padding:12px;border-radius:14px;border:2px solid var(--gray-200);cursor:pointer;margin-bottom:8px;">
              <div style="width:40px;height:40px;background:#f7941d;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:900;color:white;">N</div>
              <div style="flex:1;font-weight:700;font-size:13px;">Nagad</div>
              <div style="width:18px;height:18px;background:var(--gray-200);border-radius:50%;" id="pm-nagad-check"></div>
            </div>
            <div id="pm-card" onclick="selectPM('card')" style="display:flex;align-items:center;gap:12px;padding:12px;border-radius:14px;border:2px solid var(--gray-200);cursor:pointer;">
              <div style="width:40px;height:40px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;">üí≥</div>
              <div style="flex:1;font-weight:700;font-size:13px;">Card / SSLCommerz</div>
              <div style="width:18px;height:18px;background:var(--gray-200);border-radius:50%;" id="pm-card-check"></div>
            </div>
          </div>
          <div style="background:var(--blue-light);border-radius:14px;padding:14px 16px;">
            <div style="display:flex;justify-content:space-between;font-size:12px;color:var(--gray-600);margin-bottom:6px;"><span>‡¶Ø‡ßã‡¶ó ‡¶π‡¶¨‡ßá</span><span id="c-summary-add">‡ß≥0</span></div>
            <div style="display:flex;justify-content:space-between;font-size:12px;color:var(--gray-600);margin-bottom:6px;"><span>‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶´‡¶ø</span><span>‡ß≥0</span></div>
            <div style="height:1px;background:rgba(37,99,235,0.15);margin-bottom:8px;"></div>
            <div style="display:flex;justify-content:space-between;font-size:14px;font-weight:800;color:var(--blue-dark);"><span>‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</span><span id="c-summary-new">‡ß≥1,250</span></div>
          </div>
        </div>
        <div style="position:absolute;bottom:0;left:0;right:0;padding:12px 16px 28px;background:white;border-top:1px solid var(--gray-100);">
          <button onclick="nav('account',null)" class="btn-primary">‚úÖ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶ì Add ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </div>
        <script>
          var cBalance=1250;
          function setCAmt(v){document.getElementById('c-amt-input').value=v;updateCTotal(v);}
          function updateCTotal(v){var a=parseFloat(v)||0;document.getElementById('c-summary-add').textContent='‡ß≥'+a;document.getElementById('c-summary-new').textContent='‡ß≥'+(cBalance+a);}
          function selectPM(m){['bkash','nagad','card'].forEach(function(id){document.getElementById('pm-'+id).style.border='2px solid var(--gray-200)';document.getElementById('pm-'+id).style.background='white';document.getElementById('pm-'+id+'-check').style.background='var(--gray-200)';document.getElementById('pm-'+id+'-check').textContent='';});document.getElementById('pm-'+m).style.border='2px solid var(--blue)';document.getElementById('pm-'+m).style.background='var(--blue-light)';document.getElementById('pm-'+m+'-check').style.background='var(--blue)';document.getElementById('pm-'+m+'-check').textContent='‚úì';document.getElementById('pm-'+m+'-check').style.color='white';document.getElementById('pm-'+m+'-check').style.fontSize='10px';document.getElementById('pm-'+m+'-check').style.display='flex';document.getElementById('pm-'+m+'-check').style.alignItems='center';document.getElementById('pm-'+m+'-check').style.justifyContent='center';}
        </script>
      </div>

      <!-- =========================================
           C11b ¬∑ TRANSACTION HISTORY (Customer)
           ========================================= -->
      <div class="screen" id="screen-c-txn-history" style="background:var(--gray-50);">
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:44px 18px 20px;flex-shrink:0;">
          <div style="display:flex;align-items:center;gap:12px;">
            <button onclick="nav('account',null)" style="background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;">‚Äπ</button>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">Transaction History</div>
          </div>
        </div>
        <div style="flex:1;overflow-y:auto;padding:16px 16px 30px;scrollbar-width:none;">
          <div style="display:flex;background:var(--gray-100);border-radius:12px;padding:3px;margin-bottom:14px;">
            <div style="flex:1;text-align:center;padding:8px;border-radius:9px;background:white;font-size:11px;font-weight:700;color:var(--blue);">‡¶∏‡¶¨</div>
            <div style="flex:1;text-align:center;padding:8px;font-size:11px;font-weight:600;color:var(--gray-400);cursor:pointer;">Add Money</div>
            <div style="flex:1;text-align:center;padding:8px;font-size:11px;font-weight:600;color:var(--gray-400);cursor:pointer;">‡¶ñ‡¶∞‡¶ö</div>
          </div>
          <div style="font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">‡¶Ü‡¶ú</div>
          <div style="background:white;border-radius:16px;border:1.5px solid var(--gray-100);overflow:hidden;margin-bottom:12px;">
            <div style="display:flex;align-items:center;gap:12px;padding:14px;border-bottom:1px solid var(--gray-100);">
              <div style="width:40px;height:40px;background:#fee2e2;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;">üõí</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;">Market Run</div><div style="font-size:10px;color:var(--gray-400);">10:30 AM ¬∑ Wallet ‡¶•‡ßá‡¶ï‡ßá</div></div>
              <div style="text-align:right;"><div style="font-family:'Space Grotesk',sans-serif;font-size:14px;font-weight:800;color:var(--red);">-‡ß≥165</div><div style="font-size:9px;color:var(--gray-300);">‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡ß≥1,250</div></div>
            </div>
            <div style="display:flex;align-items:center;gap:12px;padding:14px;">
              <div style="width:40px;height:40px;background:#d1fae5;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;">‚ûï</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;">Add Money</div><div style="font-size:10px;color:var(--gray-400);">8:00 AM ¬∑ bKash ‡¶•‡ßá‡¶ï‡ßá</div></div>
              <div style="text-align:right;"><div style="font-family:'Space Grotesk',sans-serif;font-size:14px;font-weight:800;color:var(--green);">+‡ß≥500</div><div style="font-size:9px;color:var(--gray-300);">‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡ß≥1,415</div></div>
            </div>
          </div>
          <div style="font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">‡¶ó‡¶§‡¶ï‡¶æ‡¶≤</div>
          <div style="background:white;border-radius:16px;border:1.5px solid var(--gray-100);overflow:hidden;">
            <div style="display:flex;align-items:center;gap:12px;padding:14px;border-bottom:1px solid var(--gray-100);">
              <div style="width:40px;height:40px;background:#fee2e2;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;">üíä</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;">Pharmacy Pickup</div><div style="font-size:10px;color:var(--gray-400);">9:10 PM ¬∑ Wallet ‡¶•‡ßá‡¶ï‡ßá</div></div>
              <div style="text-align:right;"><div style="font-family:'Space Grotesk',sans-serif;font-size:14px;font-weight:800;color:var(--red);">-‡ß≥95</div><div style="font-size:9px;color:var(--gray-300);">‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡ß≥915</div></div>
            </div>
            <div style="display:flex;align-items:center;gap:12px;padding:14px;">
              <div style="width:40px;height:40px;background:#d1fae5;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;">‚ûï</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;">Add Money</div><div style="font-size:10px;color:var(--gray-400);">7:30 PM ¬∑ Nagad ‡¶•‡ßá‡¶ï‡ßá</div></div>
              <div style="text-align:right;"><div style="font-family:'Space Grotesk',sans-serif;font-size:14px;font-weight:800;color:var(--green);">+‡ß≥1,000</div><div style="font-size:9px;color:var(--gray-300);">‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡ß≥1,010</div></div>
            </div>
          </div>
        </div>
      </div>

            <!-- =========================================
           S15 ¬∑ SETTINGS
           ========================================= -->
      <div class="screen" id="screen-settings">
        <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        <div class="top-nav">
          <button class="nav-btn" onclick="nav('account',null)">‚Äπ</button>
          <div class="nav-title">Settings</div>
          <div style="width:36px;"></div>
        </div>
        <div class="scroll-content" style="padding-bottom:20px;">
          <div class="setting-group-title">Language & Region</div>
          <div class="toggle-row">
            <div class="toggle-info"><div class="t-label">üåê App Language</div><div class="t-sub">English selected</div></div>
            <div style="display:flex;gap:8px;">
              <div style="background:var(--blue-mid);color:white;border-radius:20px;padding:5px 12px;font-size:12px;font-weight:700;cursor:pointer;">English</div>
              <div style="background:var(--gray-100);color:var(--gray-500);border-radius:20px;padding:5px 12px;font-size:12px;font-weight:600;cursor:pointer;">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</div>
            </div>
          </div>

          <div class="setting-group-title">Notifications</div>
          <div class="toggle-row" onclick="doToggle(this)">
            <div class="toggle-info"><div class="t-label">üì± Push Notifications</div><div class="t-sub">Task updates and alerts</div></div>
            <div class="toggle-sw on"></div>
          </div>
          <div class="toggle-row" onclick="doToggle(this)">
            <div class="toggle-info"><div class="t-label">üì£ Promo Alerts</div><div class="t-sub">Offers and discounts</div></div>
            <div class="toggle-sw on"></div>
          </div>
          <div class="toggle-row" onclick="doToggle(this)">
            <div class="toggle-info"><div class="t-label">üì≤ SMS Notifications</div><div class="t-sub">Important updates via SMS</div></div>
            <div class="toggle-sw"></div>
          </div>

          <div class="setting-group-title">Appearance</div>
          <div class="toggle-row">
            <div class="toggle-info"><div class="t-label">üåô Dark Mode</div><div class="t-sub">Coming soon...</div></div>
            <div style="background:var(--gray-100);color:var(--gray-400);border-radius:20px;padding:4px 12px;font-size:11px;font-weight:700;">Soon</div>
          </div>

          <div class="setting-group-title">Legal</div>
          <div class="menu-item" style="margin:0 16px 6px;"><div class="mi-icon">üîí</div><div class="mi-label">Privacy Policy</div><div class="mi-arrow">‚Ä∫</div></div>
          <div class="menu-item" style="margin:0 16px 16px;"><div class="mi-icon">üìú</div><div class="mi-label">Terms & Conditions</div><div class="mi-arrow">‚Ä∫</div></div>

          <div style="text-align:center;padding:16px;font-size:11px;color:var(--gray-300);font-weight:500;">Tasko v1.0.0 ¬∑ Made with ‚ù§Ô∏è in Bangladesh</div>
        </div>
      </div>

    </div><!-- /phone-screen - CUSTOMER END -->

      <!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
           ‚ïë         R I D E R   S E C T I O N       ‚ïë
           ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->

      <!-- =========================================
           R1 ¬∑ RIDER HOME
           ========================================= -->
      <div class="screen" id="screen-r-home" style="background:var(--gray-50);">
        <!-- Header -->
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:0 18px 22px;flex-shrink:0;position:relative;overflow:hidden;">
          <div class="splash-bg-circle" style="width:180px;height:180px;top:-60px;right:-40px;"></div>
          <div class="status-bar light" style="padding:40px 0 6px;">
            <span>10:41</span><div style="display:flex;gap:4px;align-items:center;">üì∂ üîã</div>
          </div>
          <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px;position:relative;z-index:1;">
            <div>
              <div style="color:rgba(255,255,255,0.6);font-size:12px;">Rider Dashboard</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:white;margin-bottom:10px;">Hey Mahmud! üèçÔ∏è</div>
              <!-- Wallet Balance ‚Äî bKash style -->
              <div onclick="toggleRWallet()" style="cursor:pointer;display:inline-block;">
                <div style="font-size:11px;color:rgba(255,255,255,0.5);font-weight:600;margin-bottom:3px;letter-spacing:0.5px;">üí∞ Wallet Balance</div>
                <div style="display:flex;align-items:center;gap:8px;">
                  <span id="r-wallet-val" style="font-family:'Space Grotesk',sans-serif;font-size:28px;font-weight:800;color:white;letter-spacing:1px;">‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
                  <span style="font-size:16px;opacity:0.45;">üëÅ</span>
                </div>
              </div>
            </div>
            <div style="display:flex;gap:8px;align-items:center;">
              <div class="icon-btn" onclick="nav('r-profile',null)">üë§</div>
              <div class="icon-btn" style="position:relative;">
                üîî
                <div style="position:absolute;top:-3px;right:-3px;width:14px;height:14px;background:#ef4444;border-radius:50%;font-size:9px;color:white;display:flex;align-items:center;justify-content:center;font-weight:700;border:2px solid #1d4ed8;">2</div>
              </div>
            </div>
          </div>

          <!-- Online/Offline Toggle -->
          <div style="background:rgba(255,255,255,0.12);border:1px solid rgba(255,255,255,0.2);border-radius:18px;padding:14px 16px;display:flex;align-items:center;justify-content:space-between;position:relative;z-index:1;backdrop-filter:blur(8px);" onclick="toggleOnline(this)">
            <div>
              <div id="online-label" style="font-family:'Space Grotesk',sans-serif;font-size:16px;font-weight:800;color:white;">üü¢ You're Online</div>
              <div style="font-size:11px;color:rgba(255,255,255,0.6);margin-top:2px;">Receiving new task requests</div>
            </div>
            <div id="online-toggle" style="width:52px;height:28px;background:#10b981;border-radius:14px;position:relative;cursor:pointer;transition:background 0.3s;flex-shrink:0;">
              <div style="position:absolute;top:4px;left:4px;width:20px;height:20px;background:white;border-radius:50%;transition:transform 0.3s;box-shadow:0 2px 6px rgba(0,0,0,0.2);"></div>
            </div>
          </div>
        </div>

        <!-- Stats Row -->
        <div style="display:flex;gap:10px;padding:14px 16px 0;">
          <div style="flex:1;background:white;border-radius:16px;padding:14px 12px;text-align:center;border:1.5px solid var(--gray-100);box-shadow:var(--shadow-sm);">
            <div style="font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:var(--blue-dark);">‡ß≥840</div>
            <div style="font-size:10px;color:var(--gray-400);font-weight:600;margin-top:2px;">Today's Earning</div>
          </div>
          <div style="flex:1;background:white;border-radius:16px;padding:14px 12px;text-align:center;border:1.5px solid var(--gray-100);box-shadow:var(--shadow-sm);">
            <div style="font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:var(--green);">7</div>
            <div style="font-size:10px;color:var(--gray-400);font-weight:600;margin-top:2px;">Tasks Done</div>
          </div>
          <div style="flex:1;background:white;border-radius:16px;padding:14px 12px;text-align:center;border:1.5px solid var(--gray-100);box-shadow:var(--shadow-sm);">
            <div style="font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:var(--orange);">‚≠ê 4.8</div>
            <div style="font-size:10px;color:var(--gray-400);font-weight:600;margin-top:2px;">Rating</div>
          </div>
        </div>

        <div style="flex:1;overflow-y:auto;padding:14px 16px 90px;scrollbar-width:none;">

          <!-- SECTION 1: Normal Tasks -->
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;">
            <div style="font-family:'Space Grotesk',sans-serif;font-size:13px;font-weight:800;color:var(--gray-900);">‚ö° ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</div>
            <div style="font-size:10px;color:var(--gray-400);">‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶ø‡¶§ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá ‚Äî ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá ‡¶®‡¶ø‡¶®</div>
          </div>

          <!-- Task Card 1 -->
          <div style="background:white;border-radius:18px;padding:16px;border:1.5px solid var(--gray-100);box-shadow:var(--shadow-sm);margin-bottom:10px;cursor:pointer;" onclick="nav('r-alert',null)">
            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px;">
              <div>
                <div style="font-size:15px;font-weight:700;color:var(--gray-900);">üõí Market Run</div>
                <div style="font-size:11px;color:var(--gray-400);margin-top:3px;">Mohammadpur Bazar ‚Üí Dhanmondi 27</div>
              </div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:var(--blue-dark);">‡ß≥80</div>
            </div>
            <div style="display:flex;gap:8px;flex-wrap:wrap;">
              <div style="background:var(--blue-light);border-radius:8px;padding:5px 10px;font-size:11px;color:var(--blue-dark);font-weight:600;">üìç 1.8 km</div>
              <div style="background:#fef3c7;border-radius:8px;padding:5px 10px;font-size:11px;color:#92400e;font-weight:600;">‚ö° ‡¶è‡¶ñ‡¶®‡¶á</div>
              <div style="background:#d1fae5;border-radius:8px;padding:5px 10px;font-size:11px;color:#065f46;font-weight:600;">üëÅÔ∏è 3 ‡¶ú‡¶® ‡¶¶‡ßá‡¶ñ‡¶õ‡ßá</div>
            </div>
          </div>

          <!-- Task Card 2 -->
          <div style="background:white;border-radius:18px;padding:16px;border:1.5px solid var(--gray-100);box-shadow:var(--shadow-sm);margin-bottom:18px;cursor:pointer;" onclick="nav('r-alert',null)">
            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px;">
              <div>
                <div style="font-size:15px;font-weight:700;color:var(--gray-900);">üíä Pharmacy Pickup</div>
                <div style="font-size:11px;color:var(--gray-400);margin-top:3px;">Mirpur-1 Pharmacy ‚Üí Mirpur-10</div>
              </div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:var(--blue-dark);">‡ß≥60</div>
            </div>
            <div style="display:flex;gap:8px;">
              <div style="background:var(--blue-light);border-radius:8px;padding:5px 10px;font-size:11px;color:var(--blue-dark);font-weight:600;">üìç 0.9 km</div>
              <div style="background:#fef3c7;border-radius:8px;padding:5px 10px;font-size:11px;color:#92400e;font-weight:600;">‚ö° ‡¶è‡¶ñ‡¶®‡¶á</div>
            </div>
          </div>

          <!-- SECTION 2: Negotiation Tasks -->
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;">
            <div style="display:flex;align-items:center;gap:8px;">
              <div style="font-family:'Space Grotesk',sans-serif;font-size:13px;font-weight:800;color:var(--gray-900);">üí¨ ‡¶®‡ßá‡¶ó‡ßã‡¶∂‡¶ø‡¶Ø‡¶º‡ßá‡¶∂‡¶® ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï</div>
              <div style="background:#fef3c7;border:1px solid #fde68a;border-radius:20px;padding:2px 8px;font-size:10px;font-weight:700;color:#92400e;">2 ‡¶ü‡¶ø ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ‡¶Ø‡¶º</div>
            </div>
            <div style="font-size:10px;color:var(--gray-400);">‡¶¶‡¶æ‡¶Æ ‡¶Ü‡¶™‡¶®‡¶ø‡¶á ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</div>
          </div>
          <div style="background:#fffbeb;border:1px solid #fde68a;border-radius:12px;padding:9px 12px;margin-bottom:10px;display:flex;gap:7px;align-items:flex-start;">
            <span style="font-size:13px;">üí°</span>
            <span style="font-size:11px;color:#92400e;line-height:1.5;">‡¶è‡¶á ‡¶ü‡¶æ‡¶∏‡ßç‡¶ï‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶∞‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶®‡ßá‡¶®‡¶®‡¶ø ‚Äî ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶∞ ‡¶¨‡ßá‡¶∂‡¶ø ‡¶¶‡¶ø‡¶§‡ßá ‡¶∞‡¶æ‡¶ú‡¶ø ‡¶Ü‡¶õ‡ßá‡¶®‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§</span>
          </div>

          <!-- Negotiation Card 1 -->
          <div style="background:white;border-radius:18px;padding:16px;border:2px solid #fde68a;box-shadow:var(--shadow-sm);margin-bottom:10px;cursor:pointer;position:relative;" onclick="nav('r-alert',null)">
            <div style="position:absolute;top:12px;right:12px;background:linear-gradient(135deg,var(--orange),#d97706);color:white;border-radius:8px;padding:3px 8px;font-size:10px;font-weight:700;">‡¶¶‡¶∞ ‡¶ï‡¶∑‡ßÅ‡¶®</div>
            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px;padding-right:60px;">
              <div>
                <div style="font-size:15px;font-weight:700;color:var(--gray-900);">üìÑ Document Drop</div>
                <div style="font-size:11px;color:var(--gray-400);margin-top:3px;">Motijheel ‚Üí Gulshan 2</div>
              </div>
            </div>
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
              <div style="font-size:11px;color:var(--gray-500);">‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Ö‡¶´‡¶æ‡¶∞</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:16px;font-weight:800;color:var(--gray-400);text-decoration:line-through;">‡ß≥80</div>
              <div style="font-size:11px;color:var(--green);">‚Üí ‡¶è‡¶ñ‡¶® ‡¶¶‡¶ø‡¶ö‡ßç‡¶õ‡ßá‡¶®</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:var(--green);">‡ß≥120</div>
            </div>
            <div style="display:flex;gap:8px;flex-wrap:wrap;">
              <div style="background:var(--blue-light);border-radius:8px;padding:5px 10px;font-size:11px;color:var(--blue-dark);font-weight:600;">üìç 3.2 km</div>
              <div style="background:#fef3c7;border-radius:8px;padding:5px 10px;font-size:11px;color:#92400e;font-weight:600;">‚è≥ ‡ß® ‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá</div>
            </div>
          </div>

          <!-- Negotiation Card 2 -->
          <div style="background:white;border-radius:18px;padding:16px;border:2px solid #fde68a;box-shadow:var(--shadow-sm);margin-bottom:10px;cursor:pointer;position:relative;" onclick="nav('r-alert',null)">
            <div style="position:absolute;top:12px;right:12px;background:linear-gradient(135deg,var(--orange),#d97706);color:white;border-radius:8px;padding:3px 8px;font-size:10px;font-weight:700;">‡¶¶‡¶∞ ‡¶ï‡¶∑‡ßÅ‡¶®</div>
            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px;padding-right:60px;">
              <div>
                <div style="font-size:15px;font-weight:700;color:var(--gray-900);">üõí Grocery Run</div>
                <div style="font-size:11px;color:var(--gray-400);margin-top:3px;">Shyamoli Bazar ‚Üí Mohammadpur</div>
              </div>
            </div>
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px;">
              <div style="font-size:11px;color:var(--gray-500);">‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Ö‡¶´‡¶æ‡¶∞</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:16px;font-weight:800;color:var(--gray-400);text-decoration:line-through;">‡ß≥60</div>
              <div style="font-size:11px;color:var(--green);">‚Üí ‡¶è‡¶ñ‡¶® ‡¶¶‡¶ø‡¶ö‡ßç‡¶õ‡ßá‡¶®</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:var(--green);">‡ß≥100</div>
            </div>
            <div style="display:flex;gap:8px;flex-wrap:wrap;">
              <div style="background:var(--blue-light);border-radius:8px;padding:5px 10px;font-size:11px;color:var(--blue-dark);font-weight:600;">üìç 1.5 km</div>
              <div style="background:#fef3c7;border-radius:8px;padding:5px 10px;font-size:11px;color:#92400e;font-weight:600;">‚è≥ ‡ß© ‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá</div>
            </div>
          </div>

        </div>

        <!-- Bottom Nav -->
        <div class="bottom-nav">
          <div class="bnav-item active"><div class="bnav-icon">üè†</div><div>Home</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('r-history',null)"><div class="bnav-icon">üìã</div><div>History</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('r-earnings',null)"><div class="bnav-icon">üí∞</div><div>Earnings</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('r-profile',null)"><div class="bnav-icon">üë§</div><div>Profile</div><div class="bnav-dot"></div></div>
        </div>
      </div>

      <!-- =========================================
           R2 ¬∑ NEW TASK ALERT
           ========================================= -->
      <div class="screen" id="screen-r-alert" style="background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);justify-content:flex-end;">
        <!-- Blurred background -->
        <div style="position:absolute;inset:0;background:linear-gradient(160deg,#0c1445,#1d4ed8);opacity:0.85;"></div>

        <!-- Sheet -->
        <div style="background:white;border-radius:28px 28px 0 0;padding:0 18px 36px;position:relative;z-index:1;animation:slideUp 0.4s cubic-bezier(0.34,1.08,0.64,1);max-height:92%;overflow-y:auto;scrollbar-width:none;">
          <div style="width:36px;height:4px;background:var(--gray-200);border-radius:2px;margin:14px auto 16px;"></div>

          <!-- Timer + Title -->
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;">
            <div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:19px;font-weight:800;color:var(--gray-900);">New Offer Received üîî</div>
              <div style="font-size:12px;color:var(--gray-400);margin-top:2px;">Customer is waiting for your response</div>
            </div>
            <div style="background:rgba(239,68,68,0.1);border:1.5px solid rgba(239,68,68,0.3);border-radius:20px;padding:6px 14px;text-align:center;">
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:var(--red);" id="r-timer">15</div>
              <div style="font-size:9px;color:var(--red);font-weight:600;">secs</div>
            </div>
          </div>

          <!-- Task Card -->
          <div style="background:var(--gray-50);border-radius:16px;padding:14px;border:1.5px solid var(--gray-200);margin-bottom:12px;">
            <div style="font-size:15px;font-weight:800;color:var(--gray-900);margin-bottom:10px;">üõí Market Run</div>
            <div style="display:flex;flex-direction:column;gap:6px;margin-bottom:12px;">
              <div style="display:flex;gap:10px;align-items:center;">
                <div style="width:9px;height:9px;background:var(--blue);border-radius:50%;flex-shrink:0;"></div>
                <div style="font-size:13px;color:var(--gray-700);">Mohammadpur Bazar, Shop 14</div>
              </div>
              <div style="width:2px;height:12px;background:var(--gray-300);margin-left:3.5px;"></div>
              <div style="display:flex;gap:10px;align-items:center;">
                <div style="width:9px;height:9px;background:var(--green);border-radius:50%;flex-shrink:0;"></div>
                <div style="font-size:13px;color:var(--gray-700);">Dhanmondi 27, House 4</div>
              </div>
            </div>
            <div style="display:flex;gap:8px;flex-wrap:wrap;">
              <div style="background:var(--blue-light);border-radius:8px;padding:5px 10px;font-size:11px;color:var(--blue-dark);font-weight:600;">üìç 1.8 km</div>
              <div style="background:#d1fae5;border-radius:8px;padding:5px 10px;font-size:11px;color:#065f46;font-weight:600;">‚è±Ô∏è ~20 min</div>
            </div>
          </div>

          <!-- Customer's Offer -->
          <div style="background:linear-gradient(135deg,rgba(245,158,11,0.1),rgba(245,158,11,0.05));border:1.5px solid rgba(245,158,11,0.3);border-radius:14px;padding:13px;display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;">
            <div>
              <div style="font-size:11px;font-weight:700;color:var(--orange);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:3px;">Customer's Offer</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:26px;font-weight:800;color:var(--gray-900);">‡ß≥200</div>
              <div style="font-size:11px;color:var(--gray-400);margin-top:2px;">Above normal rate ‚ú®</div>
            </div>
            <div style="font-size:32px;">üí∞</div>
          </div>

          <!-- Your Range -->
          <div style="background:var(--blue-light);border-radius:12px;padding:11px 14px;margin-bottom:12px;display:flex;justify-content:space-between;align-items:center;">
            <div>
              <div style="font-size:10px;font-weight:700;color:var(--blue);text-transform:uppercase;letter-spacing:0.8px;">Your Range</div>
              <div style="font-size:12px;color:var(--blue-dark);font-weight:600;margin-top:3px;">Min ‡ß≥80 ‚Äî Max ‡ß≥300</div>
            </div>
            <div style="font-size:11px;color:var(--blue);font-weight:700;">‚úÖ Within range</div>
          </div>

          <!-- Counter Input -->
          <div style="margin-bottom:16px;">
            <div style="font-size:11px;font-weight:700;color:var(--gray-500);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">Counter Offer (optional)</div>
            <div style="background:white;border:2px solid var(--gray-200);border-radius:14px;padding:12px 16px;display:flex;align-items:center;gap:10px;">
              <span style="font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:700;color:var(--green);">‡ß≥</span>
              <input type="number" placeholder="e.g. 250" style="flex:1;border:none;outline:none;font-family:'Space Grotesk',sans-serif;font-size:24px;font-weight:800;color:var(--gray-900);background:transparent;">
            </div>
            <div style="font-size:11px;color:var(--gray-400);margin-top:6px;text-align:center;">Leave empty to accept ‡ß≥200 directly</div>
          </div>

          <!-- Action Buttons -->
          <div style="display:flex;flex-direction:column;gap:8px;">
            <button onclick="nav('r-accepted',null)" style="width:100%;padding:15px;background:linear-gradient(135deg,#10b981,#059669);border:none;border-radius:14px;color:white;font-size:14px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;box-shadow:0 4px 16px rgba(16,185,129,0.35);">‚úÖ Accept ‡ß≥200 Now</button>
            <button onclick="nav('r-accepted',null)" style="width:100%;padding:15px;background:linear-gradient(135deg,var(--blue-mid),var(--blue-dark));border:none;border-radius:14px;color:white;font-size:14px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;box-shadow:0 4px 16px rgba(37,99,235,0.35);">‚Ü©Ô∏è Send Counter Offer</button>
            <button onclick="nav('r-home',null)" style="width:100%;padding:13px;background:var(--gray-100);border:none;border-radius:14px;color:var(--gray-400);font-size:13px;font-weight:600;cursor:pointer;font-family:'DM Sans',sans-serif;">Skip this task</button>
          </div>
        </div>
      </div>

      <!-- =========================================
           R3 ¬∑ TASK ACCEPTED
           ========================================= -->
      <div class="screen" id="screen-r-accepted" style="background:var(--gray-50);">

        <!-- Header -->
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:0 18px 12px;flex-shrink:0;position:relative;overflow:hidden;">
          <div style="position:absolute;top:-50px;right:-50px;width:180px;height:180px;background:rgba(255,255,255,0.05);border-radius:50%;"></div>
          <div style="position:absolute;bottom:-30px;left:-20px;width:120px;height:120px;background:rgba(6,182,212,0.1);border-radius:50%;"></div>
          <div class="status-bar light" style="padding:40px 0 8px;position:relative;z-index:1;"><span>10:41</span><div>üì∂ üîã</div></div>

          <!-- Mission Active badge -->
          <div style="display:inline-flex;align-items:center;gap:6px;background:rgba(16,185,129,0.2);border:1px solid rgba(16,185,129,0.4);border-radius:20px;padding:4px 12px;margin-bottom:10px;position:relative;z-index:1;">
            <div style="width:6px;height:6px;background:#10b981;border-radius:50%;animation:activePulse 1.5s infinite;"></div>
            <span style="font-size:10px;font-weight:700;color:#6ee7b7;text-transform:uppercase;letter-spacing:1px;">Task Active</span>
          </div>

          <div style="position:relative;z-index:1;margin-bottom:16px;">
            <div style="font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:white;">Task Accepted ‚úÖ</div>
            <div style="font-size:12px;color:rgba(255,255,255,0.6);margin-top:2px;">Head to pickup ¬∑ Rafi is waiting</div>
          </div>

          <!-- Progress track ‚Äî icon style -->
          <div style="display:flex;align-items:center;position:relative;z-index:1;">
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:24px;height:24px;background:#10b981;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;box-shadow:0 0 0 3px rgba(16,185,129,0.25);">‚úì</div>
              <span style="font-size:9px;color:#6ee7b7;font-weight:700;">Accepted</span>
            </div>
            <div style="flex:1;height:2px;background:rgba(255,255,255,0.3);margin-bottom:14px;"></div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:24px;height:24px;background:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;box-shadow:0 0 0 3px rgba(255,255,255,0.2);animation:activePulse 2s infinite;">üõµ</div>
              <span style="font-size:9px;color:white;font-weight:700;">Pickup</span>
            </div>
            <div style="flex:1;height:2px;background:rgba(255,255,255,0.15);margin-bottom:14px;"></div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:24px;height:24px;background:rgba(255,255,255,0.15);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;border:2px solid rgba(255,255,255,0.2);">üì¶</div>
              <span style="font-size:9px;color:rgba(255,255,255,0.4);font-weight:600;">Deliver</span>
            </div>
            <div style="flex:1;height:2px;background:rgba(255,255,255,0.15);margin-bottom:14px;"></div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:24px;height:24px;background:rgba(255,255,255,0.15);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;border:2px solid rgba(255,255,255,0.2);">üèÅ</div>
              <span style="font-size:9px;color:rgba(255,255,255,0.4);font-weight:600;">Done</span>
            </div>
          </div>
        </div>

        <div style="flex:1;overflow-y:auto;scrollbar-width:none;padding:16px;padding-bottom:90px;">

          <!-- Map -->
          <div style="border-radius:18px;overflow:hidden;border:1px solid var(--gray-200);box-shadow:var(--shadow-md);margin-bottom:14px;">
            <div style="height:140px;background:linear-gradient(135deg,#e0f2fe,#dbeafe);position:relative;overflow:hidden;">
              <div style="position:absolute;inset:0;background-image:linear-gradient(rgba(37,99,235,0.07) 1px,transparent 1px),linear-gradient(90deg,rgba(37,99,235,0.07) 1px,transparent 1px);background-size:26px 26px;"></div>
              <!-- Roads -->
              <div style="position:absolute;height:5px;background:rgba(255,255,255,0.8);left:0;right:0;top:100px;"></div>
              <div style="position:absolute;width:5px;background:rgba(255,255,255,0.8);top:0;bottom:0;left:130px;"></div>
              <!-- Dashed route -->
              <div style="position:absolute;top:94px;left:65px;width:180px;height:2px;background:repeating-linear-gradient(90deg,var(--blue) 0,var(--blue) 8px,transparent 8px,transparent 14px);opacity:0.6;transform:rotate(-5deg);"></div>
              <!-- You -->
              <div style="position:absolute;left:75px;top:65px;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:3px;">
                <div style="width:38px;height:38px;background:linear-gradient(135deg,var(--blue-mid),var(--blue-dark));border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;border:3px solid white;box-shadow:0 4px 14px rgba(37,99,235,0.4);animation:activePulse 2s infinite;">üõµ</div>
                <div style="font-size:8px;font-weight:700;color:var(--blue-dark);background:white;padding:2px 6px;border-radius:4px;box-shadow:var(--shadow-sm);">You</div>
              </div>
              <!-- Pickup -->
              <div style="position:absolute;right:55px;top:52px;transform:translateX(50%);display:flex;flex-direction:column;align-items:center;gap:3px;">
                <div style="width:38px;height:38px;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;border:3px solid white;box-shadow:0 4px 14px rgba(16,185,129,0.4);">üì¶</div>
                <div style="font-size:8px;font-weight:700;color:#065f46;background:white;padding:2px 6px;border-radius:4px;box-shadow:var(--shadow-sm);">Pickup</div>
              </div>
              <!-- ETA badge -->
              <div style="position:absolute;bottom:10px;left:50%;transform:translateX(-50%);background:white;border-radius:20px;padding:6px 14px;box-shadow:var(--shadow-md);display:flex;align-items:center;gap:7px;white-space:nowrap;">
                <div style="width:6px;height:6px;background:var(--green);border-radius:50%;"></div>
                <span style="font-size:11px;font-weight:700;color:var(--gray-900);">Pickup ¬∑ 0.8 km ¬∑ ~5 min</span>
              </div>
            </div>
          </div>

          <!-- Earning + distance row -->
          <div style="display:flex;gap:10px;margin-bottom:14px;">
            <div style="flex:1;background:white;border-radius:14px;padding:14px;border:1px solid var(--gray-100);box-shadow:var(--shadow-sm);text-align:center;">
              <div style="font-size:10px;color:var(--gray-400);font-weight:700;text-transform:uppercase;letter-spacing:0.8px;margin-bottom:4px;">Your Fee</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:24px;font-weight:800;color:var(--blue-dark);">‡ß≥200</div>
            </div>
            <div style="flex:1;background:white;border-radius:14px;padding:14px;border:1px solid var(--gray-100);box-shadow:var(--shadow-sm);text-align:center;">
              <div style="font-size:10px;color:var(--gray-400);font-weight:700;text-transform:uppercase;letter-spacing:0.8px;margin-bottom:4px;">Distance</div>
              <div style="font-size:20px;font-weight:800;color:var(--gray-800);">1.8 km</div>
            </div>
            <div style="flex:1;background:white;border-radius:14px;padding:14px;border:1px solid var(--gray-100);box-shadow:var(--shadow-sm);text-align:center;">
              <div style="font-size:10px;color:var(--gray-400);font-weight:700;text-transform:uppercase;letter-spacing:0.8px;margin-bottom:4px;">Est. Time</div>
              <div style="font-size:20px;font-weight:800;color:var(--gray-800);">20m</div>
            </div>
          </div>

          <!-- Task + Customer card -->
          <div style="background:white;border-radius:18px;padding:16px;border:1px solid var(--gray-100);box-shadow:var(--shadow-md);margin-bottom:12px;">
            <div style="font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:10px;">Task & Customer</div>
            <div style="font-size:15px;font-weight:700;color:var(--gray-900);margin-bottom:4px;">üõí Market Run</div>
            <div style="font-size:12px;color:var(--gray-500);line-height:1.6;margin-bottom:12px;">Pick up 1kg chicken, 2kg rice, and fresh vegetables from Mohammadpur Bazar.</div>
            <div style="height:1px;background:var(--gray-100);margin-bottom:12px;"></div>
            <div style="display:flex;align-items:center;gap:10px;">
              <div style="width:40px;height:40px;background:var(--blue-light);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;">üßë</div>
              <div style="flex:1;">
                <div style="font-size:13px;font-weight:700;color:var(--gray-900);">Rafi Ahmed</div>
                <div style="font-size:11px;color:var(--gray-400);">‚≠ê 4.9 ¬∑ 15 tasks posted</div>
              </div>
              <div style="display:flex;gap:8px;">
                <button style="width:36px;height:36px;background:var(--blue-light);border:none;border-radius:10px;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;">üìû</button>
                <button style="width:36px;height:36px;background:var(--gray-100);border:none;border-radius:10px;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;">üí¨</button>
              </div>
            </div>
          </div>

        </div>

        <!-- CTA -->
        <div style="position:absolute;bottom:0;left:0;right:0;padding:14px 16px 30px;background:white;border-top:1px solid var(--gray-100);z-index:10;">
          <button onclick="nav('r-pickup',null)" class="btn-primary">üü¢ Start Navigation to Pickup</button>
        </div>

        <style>
          @keyframes activePulse {
            0%,100% { opacity:1; transform:scale(1); }
            50% { opacity:0.8; transform:scale(1.06); }
          }
        </style>
      </div>

            <!-- =========================================
           R4 ¬∑ EN ROUTE TO PICKUP
           ========================================= -->
      <div class="screen" id="screen-r-pickup" style="background:var(--gray-50);">

        <!-- Header -->
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:0 18px 10px;flex-shrink:0;position:relative;overflow:hidden;">
          <div style="position:absolute;top:-40px;right:-40px;width:160px;height:160px;background:rgba(255,255,255,0.05);border-radius:50%;"></div>
          <div class="status-bar light" style="padding:40px 0 8px;position:relative;z-index:1;"><span>10:46</span><div>üì∂ üîã</div></div>

          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;position:relative;z-index:1;">
            <div style="display:flex;align-items:center;gap:10px;">
              <button onclick="nav('r-accepted',null)" style="background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center;">‚Äπ</button>
              <div>
                <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">En Route to Pickup üèçÔ∏è</div>
                <div style="font-size:11px;color:rgba(255,255,255,0.6);">Mohammadpur Bazar</div>
              </div>
            </div>
            <!-- ETA badge -->
            <div style="background:rgba(245,158,11,0.2);border:1px solid rgba(245,158,11,0.4);border-radius:12px;padding:8px 12px;text-align:center;">
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:#fbbf24;line-height:1;">~5</div>
              <div style="font-size:9px;color:rgba(251,191,36,0.7);font-weight:600;">min</div>
            </div>
          </div>

          <!-- Progress -->
          <div style="display:flex;align-items:center;position:relative;z-index:1;">
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:22px;height:22px;background:#10b981;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;box-shadow:0 0 0 2px rgba(16,185,129,0.3);">‚úì</div>
              <span style="font-size:9px;color:#6ee7b7;font-weight:700;">Accepted</span>
            </div>
            <div style="flex:1;height:2px;background:rgba(16,185,129,0.5);margin-bottom:14px;"></div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:22px;height:22px;background:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;box-shadow:0 0 0 2px rgba(255,255,255,0.25);animation:activePulse 2s infinite;">üõµ</div>
              <span style="font-size:9px;color:white;font-weight:700;">Pickup ‚Üê</span>
            </div>
            <div style="flex:1;height:2px;background:rgba(255,255,255,0.15);margin-bottom:14px;"></div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:22px;height:22px;background:rgba(255,255,255,0.12);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;border:1.5px solid rgba(255,255,255,0.2);">üì¶</div>
              <span style="font-size:9px;color:rgba(255,255,255,0.35);font-weight:600;">Deliver</span>
            </div>
            <div style="flex:1;height:2px;background:rgba(255,255,255,0.15);margin-bottom:14px;"></div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:22px;height:22px;background:rgba(255,255,255,0.12);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;border:1.5px solid rgba(255,255,255,0.2);">üèÅ</div>
              <span style="font-size:9px;color:rgba(255,255,255,0.35);font-weight:600;">Done</span>
            </div>
          </div>
        </div>

        <!-- Full Map -->
        <div style="height:160px;background:linear-gradient(135deg,#e0f2fe,#dbeafe);position:relative;overflow:hidden;flex-shrink:0;border-bottom:1px solid var(--gray-200);">
          <div style="position:absolute;inset:0;background-image:linear-gradient(rgba(37,99,235,0.07) 1px,transparent 1px),linear-gradient(90deg,rgba(37,99,235,0.07) 1px,transparent 1px);background-size:26px 26px;"></div>
          <!-- Roads -->
          <div style="position:absolute;height:5px;background:rgba(255,255,255,0.85);left:0;right:0;top:112px;"></div>
          <div style="position:absolute;height:5px;background:rgba(255,255,255,0.85);left:0;right:0;top:172px;"></div>
          <div style="position:absolute;width:5px;background:rgba(255,255,255,0.85);top:0;bottom:0;left:105px;"></div>
          <div style="position:absolute;width:5px;background:rgba(255,255,255,0.85);top:0;bottom:0;left:255px;"></div>
          <!-- Route dashed -->
          <div style="position:absolute;top:106px;left:80px;width:165px;height:2px;background:repeating-linear-gradient(90deg,var(--orange) 0,var(--orange) 8px,transparent 8px,transparent 14px);opacity:0.8;transform:rotate(-4deg);"></div>
          <!-- You -->
          <div style="position:absolute;left:88px;top:75px;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:40px;height:40px;background:linear-gradient(135deg,var(--orange),#d97706);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:19px;border:3px solid white;box-shadow:0 4px 16px rgba(245,158,11,0.5);animation:activePulse 2s infinite;">üõµ</div>
            <div style="font-size:8px;font-weight:700;color:var(--gray-700);background:white;padding:2px 6px;border-radius:4px;box-shadow:var(--shadow-sm);">You</div>
          </div>
          <!-- Pickup -->
          <div style="position:absolute;right:52px;top:60px;transform:translateX(50%);display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:40px;height:40px;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:19px;border:3px solid white;box-shadow:0 4px 16px rgba(16,185,129,0.5);">üì¶</div>
            <div style="font-size:8px;font-weight:700;color:#065f46;background:white;padding:2px 6px;border-radius:4px;box-shadow:var(--shadow-sm);">Pickup</div>
          </div>
          <!-- Bottom info bar -->
          <div style="position:absolute;bottom:0;left:0;right:0;background:rgba(255,255,255,0.9);backdrop-filter:blur(8px);padding:9px 16px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid var(--gray-200);">
            <div style="display:flex;align-items:center;gap:7px;">
              <div style="width:7px;height:7px;background:var(--orange);border-radius:50%;animation:activePulse 1.2s infinite;"></div>
              <span style="font-size:12px;font-weight:700;color:var(--gray-900);">0.8 km away</span>
            </div>
            <span style="font-size:11px;color:var(--gray-400);">Mohammadpur Bazar</span>
          </div>
        </div>

        <div style="flex:1;overflow-y:auto;scrollbar-width:none;padding:14px 16px 90px;">

          <!-- Task card -->
          <div style="background:white;border-radius:16px;padding:14px;border:1px solid var(--gray-100);box-shadow:var(--shadow-sm);margin-bottom:12px;">
            <div style="font-size:13px;font-weight:700;color:var(--gray-900);margin-bottom:4px;">üõí Market Run</div>
            <div style="font-size:12px;color:var(--gray-500);line-height:1.6;margin-bottom:10px;">Pick up 1kg chicken, 2kg rice, fresh vegetables</div>
            <div style="display:flex;justify-content:space-between;padding-top:10px;border-top:1px solid var(--gray-100);">
              <div style="font-size:12px;color:var(--gray-500);">Rafi Ahmed</div>
              <div style="display:flex;gap:10px;">
                <span style="font-size:12px;font-weight:700;color:var(--blue);cursor:pointer;">üìû Call</span>
                <span style="font-size:12px;font-weight:700;color:var(--gray-400);cursor:pointer;">üí¨ Chat</span>
              </div>
            </div>
          </div>

          <div style="text-align:center;font-size:12px;color:var(--red);cursor:pointer;font-weight:600;">‚ö†Ô∏è Report an Issue</div>
        </div>

        <!-- CTA -->
        <div style="position:absolute;bottom:0;left:0;right:0;padding:14px 16px 30px;background:white;border-top:1px solid var(--gray-100);z-index:10;">
          <button onclick="nav('r-delivery',null)" class="btn-primary">‚úÖ Arrived at Pickup ‚Äî Confirm</button>
        </div>
      </div>

            <!-- =========================================
           R5 ¬∑ EN ROUTE TO DELIVERY
           ========================================= -->
      <div class="screen" id="screen-r-delivery" style="background:var(--gray-50);">

        <!-- Header ‚Äî green accent to match delivery stage -->
        <div style="background:linear-gradient(155deg,#0c1445,#065f46,#059669);padding:0 18px 10px;flex-shrink:0;position:relative;overflow:hidden;">
          <div style="position:absolute;top:-40px;right:-40px;width:160px;height:160px;background:rgba(255,255,255,0.05);border-radius:50%;"></div>
          <div class="status-bar light" style="padding:40px 0 8px;position:relative;z-index:1;"><span>11:02</span><div>üì∂ üîã</div></div>

          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px;position:relative;z-index:1;">
            <div style="display:flex;align-items:center;gap:10px;">
              <button onclick="nav('r-pickup',null)" style="background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center;">‚Äπ</button>
              <div>
                <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">Item Picked Up! üì¶</div>
                <div style="font-size:11px;color:rgba(255,255,255,0.6);">Now deliver to customer</div>
              </div>
            </div>
            <div style="background:rgba(16,185,129,0.25);border:1px solid rgba(16,185,129,0.4);border-radius:12px;padding:8px 12px;text-align:center;">
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:#6ee7b7;line-height:1;">~8</div>
              <div style="font-size:9px;color:rgba(110,231,183,0.7);font-weight:600;">min</div>
            </div>
          </div>

          <!-- Progress ‚Äî 3 of 4 done -->
          <div style="display:flex;align-items:center;position:relative;z-index:1;">
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:22px;height:22px;background:#10b981;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;box-shadow:0 0 0 2px rgba(16,185,129,0.3);">‚úì</div>
              <span style="font-size:9px;color:#6ee7b7;font-weight:700;">Accepted</span>
            </div>
            <div style="flex:1;height:2px;background:rgba(16,185,129,0.6);margin-bottom:14px;"></div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:22px;height:22px;background:#10b981;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;box-shadow:0 0 0 2px rgba(16,185,129,0.3);">‚úì</div>
              <span style="font-size:9px;color:#6ee7b7;font-weight:700;">Pickup</span>
            </div>
            <div style="flex:1;height:2px;background:rgba(16,185,129,0.5);margin-bottom:14px;"></div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:22px;height:22px;background:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;box-shadow:0 0 0 2px rgba(255,255,255,0.25);animation:activePulse 2s infinite;">üèçÔ∏è</div>
              <span style="font-size:9px;color:white;font-weight:700;">Deliver ‚Üê</span>
            </div>
            <div style="flex:1;height:2px;background:rgba(255,255,255,0.15);margin-bottom:14px;"></div>
            <div style="display:flex;flex-direction:column;align-items:center;gap:5px;">
              <div style="width:22px;height:22px;background:rgba(255,255,255,0.12);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;border:1.5px solid rgba(255,255,255,0.2);">üèÅ</div>
              <span style="font-size:9px;color:rgba(255,255,255,0.35);font-weight:600;">Done</span>
            </div>
          </div>
        </div>

        <!-- Full Map ‚Äî green accent -->
        <div style="height:155px;background:linear-gradient(135deg,#d1fae5,#a7f3d0);position:relative;overflow:hidden;flex-shrink:0;border-bottom:1px solid var(--gray-200);">
          <div style="position:absolute;inset:0;background-image:linear-gradient(rgba(16,185,129,0.08) 1px,transparent 1px),linear-gradient(90deg,rgba(16,185,129,0.08) 1px,transparent 1px);background-size:26px 26px;"></div>
          <!-- Roads -->
          <div style="position:absolute;height:5px;background:rgba(255,255,255,0.85);left:0;right:0;top:108px;"></div>
          <div style="position:absolute;height:5px;background:rgba(255,255,255,0.85);left:0;right:0;top:168px;"></div>
          <div style="position:absolute;width:5px;background:rgba(255,255,255,0.85);top:0;bottom:0;left:108px;"></div>
          <div style="position:absolute;width:5px;background:rgba(255,255,255,0.85);top:0;bottom:0;left:250px;"></div>
          <!-- Route dashed green -->
          <div style="position:absolute;top:101px;left:92px;width:148px;height:2px;background:repeating-linear-gradient(90deg,#10b981 0,#10b981 8px,transparent 8px,transparent 14px);opacity:0.9;transform:rotate(-3deg);"></div>
          <!-- You carrying package -->
          <div style="position:absolute;left:100px;top:68px;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:40px;height:40px;background:linear-gradient(135deg,#10b981,#059669);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;border:3px solid white;box-shadow:0 4px 16px rgba(16,185,129,0.5);animation:activePulse 2s infinite;">üèçÔ∏è</div>
            <div style="font-size:8px;font-weight:700;color:#065f46;background:white;padding:2px 6px;border-radius:4px;box-shadow:var(--shadow-sm);">You</div>
          </div>
          <!-- Drop point -->
          <div style="position:absolute;right:50px;top:55px;transform:translateX(50%);display:flex;flex-direction:column;align-items:center;gap:3px;">
            <div style="width:40px;height:40px;background:linear-gradient(135deg,var(--blue-mid),var(--blue-dark));border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:19px;border:3px solid white;box-shadow:0 4px 16px rgba(37,99,235,0.4);">üè†</div>
            <div style="font-size:8px;font-weight:700;color:var(--blue-dark);background:white;padding:2px 6px;border-radius:4px;box-shadow:var(--shadow-sm);">Drop</div>
          </div>
          <!-- Bottom bar -->
          <div style="position:absolute;bottom:0;left:0;right:0;background:rgba(255,255,255,0.9);backdrop-filter:blur(8px);padding:9px 16px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid rgba(16,185,129,0.2);">
            <div style="display:flex;align-items:center;gap:7px;">
              <div style="width:7px;height:7px;background:#10b981;border-radius:50%;animation:activePulse 1.2s infinite;"></div>
              <span style="font-size:12px;font-weight:700;color:var(--gray-900);">1.2 km to drop</span>
            </div>
            <span style="font-size:11px;color:var(--gray-400);">Dhanmondi 27</span>
          </div>
        </div>

        <div style="flex:1;overflow-y:auto;scrollbar-width:none;padding:14px 16px 90px;">

          <!-- Delivery note -->
          <div style="background:white;border-radius:16px;padding:14px;border:1px solid var(--gray-100);box-shadow:var(--shadow-sm);margin-bottom:12px;">
            <div style="font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">üìù Delivery Note</div>
            <div style="font-size:13px;color:var(--gray-700);line-height:1.6;margin-bottom:12px;">Drop at Gate 4, 3rd floor apartment. Ring the bell twice.</div>
            <div style="height:1px;background:var(--gray-100);margin-bottom:12px;"></div>
            <div style="display:flex;align-items:center;justify-content:space-between;">
              <div style="display:flex;align-items:center;gap:8px;">
                <div style="width:34px;height:34px;background:var(--blue-light);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:16px;">üßë</div>
                <div>
                  <div style="font-size:12px;font-weight:700;color:var(--gray-900);">Rafi Ahmed</div>
                  <div style="font-size:10px;color:var(--gray-400);">‚≠ê 4.9 rating</div>
                </div>
              </div>
              <button style="background:var(--blue-light);border:none;border-radius:10px;padding:8px 14px;color:var(--blue);font-size:12px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;">üìû Call</button>
            </div>
          </div>

          <!-- Collect payment -->
          <div style="background:linear-gradient(135deg,var(--blue-light),#e0f2fe);border:1.5px solid rgba(37,99,235,0.15);border-radius:14px;padding:14px 16px;display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
            <div>
              <div style="font-size:10px;font-weight:700;color:var(--blue-dark);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:3px;">Collect on Delivery</div>
              <div style="font-size:11px;color:var(--blue-mid);">Cash from customer</div>
            </div>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:24px;font-weight:800;color:var(--blue-dark);">‡ß≥200</div>
          </div>

          <div style="text-align:center;font-size:12px;color:var(--red);cursor:pointer;font-weight:600;">‚ö†Ô∏è Report an Issue</div>
        </div>

        <!-- CTA -->
        <div style="position:absolute;bottom:0;left:0;right:0;padding:12px 16px 28px;background:white;border-top:1px solid var(--gray-100);z-index:10;">

          <!-- 4-digit code input -->
          <div style="margin-bottom:10px;">
            <div style="font-size:10px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;text-align:center;">üîê ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡ßã‡¶° ‡¶®‡¶ø‡¶®</div>
            <div style="display:flex;gap:8px;justify-content:center;margin-bottom:8px;">
              <input id="r5-c1" type="number" maxlength="1" oninput="r5next(this,'r5-c2')" style="width:52px;height:56px;border:2px solid var(--gray-200);border-radius:12px;text-align:center;font-family:'Space Grotesk',sans-serif;font-size:24px;font-weight:800;color:var(--gray-900);outline:none;transition:border 0.2s;" onfocus="this.style.border='2px solid var(--blue)'" onblur="this.style.border='2px solid var(--gray-200)'">
              <input id="r5-c2" type="number" maxlength="1" oninput="r5next(this,'r5-c3')" style="width:52px;height:56px;border:2px solid var(--gray-200);border-radius:12px;text-align:center;font-family:'Space Grotesk',sans-serif;font-size:24px;font-weight:800;color:var(--gray-900);outline:none;transition:border 0.2s;" onfocus="this.style.border='2px solid var(--blue)'" onblur="this.style.border='2px solid var(--gray-200)'">
              <input id="r5-c3" type="number" maxlength="1" oninput="r5next(this,'r5-c4')" style="width:52px;height:56px;border:2px solid var(--gray-200);border-radius:12px;text-align:center;font-family:'Space Grotesk',sans-serif;font-size:24px;font-weight:800;color:var(--gray-900);outline:none;transition:border 0.2s;" onfocus="this.style.border='2px solid var(--blue)'" onblur="this.style.border='2px solid var(--gray-200)'">
              <input id="r5-c4" type="number" maxlength="1" oninput="r5next(this,null)" style="width:52px;height:56px;border:2px solid var(--gray-200);border-radius:12px;text-align:center;font-family:'Space Grotesk',sans-serif;font-size:24px;font-weight:800;color:var(--gray-900);outline:none;transition:border 0.2s;" onfocus="this.style.border='2px solid var(--blue)'" onblur="this.style.border='2px solid var(--gray-200)'">
            </div>
            <div id="r5-err" style="text-align:center;font-size:11px;color:#ef4444;font-weight:600;min-height:16px;"></div>
          </div>

          <button onclick="r5verify()" style="background:linear-gradient(135deg,#10b981,#059669);color:white;border:none;border-radius:14px;padding:15px;font-size:15px;font-weight:700;cursor:pointer;width:100%;font-family:'DM Sans',sans-serif;box-shadow:0 4px 20px rgba(16,185,129,0.4);">üéØ ‡¶ï‡ßã‡¶° ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßá ‡¶°‡ßá‡¶≤‡¶ø‡¶≠‡¶æ‡¶∞‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </div>

        <script>
          function r5next(el, nextId) {
            // Keep only last digit
            if (el.value.length > 1) el.value = el.value.slice(-1);
            if (el.value && nextId) document.getElementById(nextId).focus();
          }
          function r5verify() {
            var code = ['r5-c1','r5-c2','r5-c3','r5-c4'].map(function(id){
              return document.getElementById(id).value;
            }).join('');
            if (code.length < 4) {
              document.getElementById('r5-err').textContent = '‡ß™ ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡ßá‡¶∞ ‡¶ï‡ßã‡¶°‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¶‡¶ø‡¶®';
              return;
            }
            // In real app: verify against server. Here simulate success.
            document.getElementById('r5-err').textContent = '';
            ['r5-c1','r5-c2','r5-c3','r5-c4'].forEach(function(id){
              var el = document.getElementById(id);
              el.style.border = '2px solid #10b981';
              el.style.background = '#f0fdf4';
            });
            setTimeout(function(){ nav('r-done', null); }, 500);
          }
        </script>
      </div>

            <!-- =========================================
           R6 ¬∑ TASK COMPLETED (RIDER)
           ========================================= -->
      <div class="screen" id="screen-r-done">
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:56px 24px 32px;border-radius:0 0 36px 36px;text-align:center;flex-shrink:0;">
          <div style="width:88px;height:88px;background:rgba(255,255,255,0.15);border:3px solid rgba(255,255,255,0.4);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:44px;margin:0 auto 14px;animation:successPop 0.5s cubic-bezier(0.34,1.56,0.64,1);">üéâ</div>
          <div style="font-family:'Space Grotesk',sans-serif;font-size:22px;font-weight:800;color:white;">Task Delivered!</div>
          <div style="color:rgba(255,255,255,0.7);font-size:13px;margin-top:5px;">Great job Mahmud! Payment received.</div>
        </div>

        <div style="flex:1;overflow-y:auto;padding:20px 18px 30px;scrollbar-width:none;">
          <!-- Earning Card -->
          <div style="background:linear-gradient(135deg,var(--blue-light),#e0f2fe);border:2px solid rgba(37,99,235,0.2);border-radius:18px;padding:18px 20px;margin-bottom:16px;display:flex;justify-content:space-between;align-items:center;">
            <div>
              <div style="font-size:11px;color:var(--blue-dark);font-weight:700;text-transform:uppercase;letter-spacing:0.8px;">You Earned</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:32px;font-weight:800;color:var(--blue-dark);">‡ß≥80</div>
              <div style="font-size:11px;color:var(--blue-mid);">Added to your wallet</div>
            </div>
            <div style="font-size:48px;">üí∞</div>
          </div>

          <!-- Trip Summary -->
          <div class="card" style="margin-bottom:14px;">
            <div style="font-size:11px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:12px;">Trip Summary</div>
            <div style="display:flex;justify-content:space-between;margin-bottom:8px;"><span style="font-size:13px;color:var(--gray-500);">Task</span><span style="font-size:13px;font-weight:700;color:var(--gray-900);">Market Run</span></div>
            <div style="display:flex;justify-content:space-between;margin-bottom:8px;"><span style="font-size:13px;color:var(--gray-500);">Distance</span><span style="font-size:13px;font-weight:700;color:var(--gray-900);">1.8 km</span></div>
            <div style="display:flex;justify-content:space-between;margin-bottom:8px;"><span style="font-size:13px;color:var(--gray-500);">Duration</span><span style="font-size:13px;font-weight:700;color:var(--gray-900);">23 min</span></div>
            <div style="display:flex;justify-content:space-between;padding-top:10px;border-top:1px solid var(--gray-100);"><span style="font-size:14px;font-weight:700;color:var(--gray-700);">Your Earning</span><span style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:var(--blue-dark);">‡ß≥80</span></div>
          </div>

          <!-- Rating from Customer -->
          <div class="card" style="margin-bottom:16px;text-align:center;">
            <div style="font-size:11px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:0.8px;margin-bottom:8px;">Customer Rating</div>
            <div style="font-size:32px;margin-bottom:4px;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <div style="font-size:13px;color:var(--gray-500);">Rafi Ahmed rated you 5/5</div>
            <div style="font-size:12px;color:var(--gray-700);margin-top:6px;font-style:italic;">"Very fast and professional!"</div>
          </div>

          <button onclick="nav('r-home',null)" class="btn-primary" style="margin-bottom:10px;">üè† Back to Dashboard</button>
          <button onclick="nav('r-earnings',null)" class="btn-secondary">üí∞ View Earnings</button>
        </div>
      </div>

      <!-- =========================================
           R7 ¬∑ EARNINGS
           ========================================= -->
      <div class="screen" id="screen-r-earnings" style="background:var(--gray-50);">
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:44px 18px 16px;flex-shrink:0;position:relative;overflow:hidden;">
          <div style="position:absolute;top:-40px;right:-40px;width:140px;height:140px;background:rgba(255,255,255,0.05);border-radius:50%;"></div>
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px;position:relative;z-index:1;">
            <button onclick="nav('r-home',null)" style="background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;">‚Äπ</button>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">üí∞ Wallet & Earnings</div>
          </div>
          <!-- Wallet Card -->
          <div style="background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:18px;padding:16px;position:relative;z-index:1;">
            <div style="font-size:10px;color:rgba(255,255,255,0.5);font-weight:700;text-transform:uppercase;letter-spacing:1px;margin-bottom:4px;">Wallet Balance</div>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:34px;font-weight:800;color:white;margin-bottom:2px;">‡ß≥1,840<span style="font-size:14px;opacity:0.5;">.00</span></div>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px;">
              <div style="font-size:10px;color:rgba(255,255,255,0.4);">Lock: ‡ß≥1,000 ¬∑ Available: ‡ß≥840</div>
              <div style="background:rgba(16,185,129,0.25);border:1px solid rgba(16,185,129,0.4);border-radius:8px;padding:3px 8px;font-size:10px;font-weight:700;color:#6ee7b7;">‚úì Active</div>
            </div>
            <div style="display:flex;gap:8px;margin-top:12px;">
              <button onclick="nav('r-withdraw',null)" style="flex:1;background:white;border:none;border-radius:11px;padding:10px;color:var(--blue-dark);font-size:12px;font-weight:800;cursor:pointer;font-family:'DM Sans',sans-serif;">üí∏ Withdraw</button>
              <button onclick="nav('r-deposit-info',null)" style="flex:1;background:rgba(255,255,255,0.12);border:1px solid rgba(255,255,255,0.2);border-radius:11px;padding:10px;color:rgba(255,255,255,0.8);font-size:12px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;">üîí Deposit Info</button>
            </div>
          </div>
        </div>

        <div style="flex:1;overflow-y:auto;padding:14px 16px 90px;scrollbar-width:none;">
          <!-- Period Toggle -->
          <div style="display:flex;background:var(--gray-100);border-radius:14px;padding:4px;margin-bottom:16px;">
            <div id="ep-today" onclick="switchEP('today')" style="flex:1;text-align:center;padding:10px;border-radius:10px;font-size:12px;font-weight:700;cursor:pointer;background:white;color:var(--blue);box-shadow:0 2px 8px rgba(0,0,0,0.08);">Today</div>
            <div id="ep-week" onclick="switchEP('week')" style="flex:1;text-align:center;padding:10px;border-radius:10px;font-size:12px;font-weight:600;cursor:pointer;color:var(--gray-400);">This Week</div>
            <div id="ep-month" onclick="switchEP('month')" style="flex:1;text-align:center;padding:10px;border-radius:10px;font-size:12px;font-weight:600;cursor:pointer;color:var(--gray-400);">This Month</div>
          </div>

          <!-- Big Earning Number -->
          <div style="background:linear-gradient(135deg,var(--blue-mid),var(--blue-dark));border-radius:22px;padding:22px 20px;margin-bottom:14px;text-align:center;color:white;">
            <div style="font-size:12px;opacity:0.75;margin-bottom:6px;font-weight:600;">TOTAL EARNINGS ‚Äì TODAY</div>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:42px;font-weight:800;">‡ß≥840</div>
            <div style="font-size:12px;opacity:0.7;margin-top:6px;">7 tasks ¬∑ 4.5 hrs online</div>
            <!-- Mini Bar Chart visual -->
            <div style="display:flex;align-items:flex-end;justify-content:center;gap:6px;margin-top:16px;height:36px;">
              <div style="width:16px;background:rgba(255,255,255,0.3);border-radius:4px;height:50%;"></div>
              <div style="width:16px;background:rgba(255,255,255,0.3);border-radius:4px;height:70%;"></div>
              <div style="width:16px;background:rgba(255,255,255,0.3);border-radius:4px;height:40%;"></div>
              <div style="width:16px;background:rgba(255,255,255,0.3);border-radius:4px;height:90%;"></div>
              <div style="width:16px;background:rgba(255,255,255,0.3);border-radius:4px;height:60%;"></div>
              <div style="width:16px;background:white;border-radius:4px;height:100%;"></div>
              <div style="width:16px;background:rgba(255,255,255,0.3);border-radius:4px;height:75%;"></div>
            </div>
            <div style="display:flex;justify-content:space-between;font-size:9px;opacity:0.55;margin-top:6px;padding:0 4px;">
              <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span style="color:white;font-weight:800;">Sat</span><span>Sun</span>
            </div>
          </div>

          <!-- Stats -->
          <div style="display:flex;gap:10px;margin-bottom:14px;">
            <div style="flex:1;background:white;border-radius:16px;padding:14px;border:1.5px solid var(--gray-100);text-align:center;">
              <div style="font-size:20px;margin-bottom:4px;">üèçÔ∏è</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:var(--gray-900);">7</div>
              <div style="font-size:10px;color:var(--gray-400);font-weight:600;">Tasks Done</div>
            </div>
            <div style="flex:1;background:white;border-radius:16px;padding:14px;border:1.5px solid var(--gray-100);text-align:center;">
              <div style="font-size:20px;margin-bottom:4px;">üìç</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:var(--gray-900);">18.4</div>
              <div style="font-size:10px;color:var(--gray-400);font-weight:600;">km Covered</div>
            </div>
            <div style="flex:1;background:white;border-radius:16px;padding:14px;border:1.5px solid var(--gray-100);text-align:center;">
              <div style="font-size:20px;margin-bottom:4px;">‚≠ê</div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:var(--gray-900);">4.8</div>
              <div style="font-size:10px;color:var(--gray-400);font-weight:600;">Avg Rating</div>
            </div>
          </div>

          <!-- Transaction List -->
          <div class="section-title">Recent Transactions</div>
          <div style="background:white;border-radius:18px;border:1.5px solid var(--gray-100);overflow:hidden;">
            <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;border-bottom:1px solid var(--gray-100);">
              <div style="width:40px;height:40px;background:#d1fae5;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;">üõí</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;color:var(--gray-900);">Market Run</div><div style="font-size:11px;color:var(--gray-400);">Today ¬∑ 10:30 AM</div></div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:15px;font-weight:800;color:var(--green);">+‡ß≥80</div>
            </div>
            <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;border-bottom:1px solid var(--gray-100);">
              <div style="width:40px;height:40px;background:#dbeafe;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;">üíä</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;color:var(--gray-900);">Pharmacy Pickup</div><div style="font-size:11px;color:var(--gray-400);">Today ¬∑ 9:10 AM</div></div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:15px;font-weight:800;color:var(--green);">+‡ß≥60</div>
            </div>
            <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;border-bottom:1px solid var(--gray-100);">
              <div style="width:40px;height:40px;background:#fef3c7;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;">üìÑ</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;color:var(--gray-900);">Document Drop</div><div style="font-size:11px;color:var(--gray-400);">Today ¬∑ 8:00 AM</div></div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:15px;font-weight:800;color:var(--green);">+‡ß≥150</div>
            </div>
            <div style="display:flex;align-items:center;gap:12px;padding:14px 16px;">
              <div style="width:40px;height:40px;background:#fee2e2;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;">üí∏</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;color:var(--gray-900);">Withdrawal</div><div style="font-size:11px;color:var(--gray-400);">Yesterday ¬∑ bKash</div></div>
              <div style="font-family:'Space Grotesk',sans-serif;font-size:15px;font-weight:800;color:var(--red);">-‡ß≥500</div>
            </div>
          </div>
        </div>

        <div class="bottom-nav">
          <div class="bnav-item" onclick="nav('r-home',null)"><div class="bnav-icon">üè†</div><div>Home</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('r-history',null)"><div class="bnav-icon">üìã</div><div>History</div><div class="bnav-dot"></div></div>
          <div class="bnav-item active"><div class="bnav-icon">üí∞</div><div style="font-size:9px;font-weight:700;color:var(--blue);">Earnings</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('r-profile',null)"><div class="bnav-icon">üë§</div><div>Profile</div><div class="bnav-dot"></div></div>
        </div>
      </div>

      <!-- =========================================
           R7a ¬∑ WITHDRAW (Rider)
           ========================================= -->
      <div class="screen" id="screen-r-withdraw" style="background:var(--gray-50);">
        <div style="background:linear-gradient(155deg,#065f46,#059669,#10b981);padding:44px 18px 20px;flex-shrink:0;position:relative;overflow:hidden;">
          <div style="position:absolute;top:-40px;right:-40px;width:130px;height:130px;background:rgba(255,255,255,0.06);border-radius:50%;"></div>
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:4px;position:relative;z-index:1;">
            <button onclick="nav('r-earnings',null)" style="background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;">‚Äπ</button>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">Withdraw</div>
          </div>
          <div style="position:relative;z-index:1;padding-left:46px;">
            <div style="font-size:11px;color:rgba(255,255,255,0.5);">Available: <span style="color:white;font-weight:700;">‡ß≥840</span> ¬∑ Daily free: <span style="color:#6ee7b7;font-weight:700;">1‡¶ü‡¶ø ‡¶¨‡¶æ‡¶ï‡¶ø</span></div>
          </div>
        </div>

        <div style="flex:1;overflow-y:auto;padding:16px 16px 100px;scrollbar-width:none;">
          <!-- Amount -->
          <div style="background:white;border-radius:18px;padding:20px;border:1.5px solid var(--gray-100);margin-bottom:14px;">
            <div style="font-size:11px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px;">‡¶ï‡¶§ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶§‡ßÅ‡¶≤‡¶¨‡ßá‡¶®?</div>
            <div style="display:flex;align-items:center;background:var(--gray-50);border-radius:14px;padding:14px 16px;border:2px solid var(--gray-200);margin-bottom:12px;">
              <span style="font-family:'Space Grotesk',sans-serif;font-size:24px;font-weight:800;color:var(--gray-400);">‡ß≥</span>
              <input id="r-wd-amt" type="number" placeholder="0" max="840" oninput="updateWD(this.value)" style="flex:1;border:none;outline:none;font-family:'Space Grotesk',sans-serif;font-size:28px;font-weight:800;color:var(--gray-900);background:transparent;width:100%;">
            </div>
            <div style="display:flex;gap:8px;">
              <div onclick="setWD(200)" style="flex:1;background:#f0fdf4;border-radius:10px;padding:8px;text-align:center;font-size:12px;font-weight:700;color:#065f46;cursor:pointer;">‡ß≥200</div>
              <div onclick="setWD(500)" style="flex:1;background:#f0fdf4;border-radius:10px;padding:8px;text-align:center;font-size:12px;font-weight:700;color:#065f46;cursor:pointer;">‡ß≥500</div>
              <div onclick="setWD(840)" style="flex:1;background:#f0fdf4;border-radius:10px;padding:8px;text-align:center;font-size:12px;font-weight:700;color:#065f46;cursor:pointer;">‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö</div>
            </div>
          </div>

          <!-- Method -->
          <div style="background:white;border-radius:18px;padding:16px;border:1.5px solid var(--gray-100);margin-bottom:14px;">
            <div style="font-size:11px;font-weight:700;color:var(--gray-400);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px;">‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º ‡¶™‡¶æ‡¶†‡¶æ‡¶¨‡ßá‡¶®?</div>
            <div id="rwd-bkash" onclick="selectRWD('bkash')" style="display:flex;align-items:center;gap:12px;padding:12px;border-radius:14px;border:2px solid var(--green);background:#f0fdf4;cursor:pointer;margin-bottom:8px;">
              <div style="width:40px;height:40px;background:#e91e8c;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:900;color:white;">b</div>
              <div style="flex:1;">
                <div style="font-weight:700;font-size:13px;">bKash</div>
                <div style="font-size:10px;color:var(--gray-400);">01712-345678</div>
              </div>
              <div style="width:18px;height:18px;background:var(--green);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;color:white;" id="rwd-bkash-chk">‚úì</div>
            </div>
            <div id="rwd-nagad" onclick="selectRWD('nagad')" style="display:flex;align-items:center;gap:12px;padding:12px;border-radius:14px;border:2px solid var(--gray-200);cursor:pointer;">
              <div style="width:40px;height:40px;background:#f7941d;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:900;color:white;">N</div>
              <div style="flex:1;">
                <div style="font-weight:700;font-size:13px;">Nagad</div>
                <div style="font-size:10px;color:var(--gray-400);">01712-345678</div>
              </div>
              <div style="width:18px;height:18px;background:var(--gray-200);border-radius:50%;" id="rwd-nagad-chk"></div>
            </div>
          </div>

          <!-- Summary -->
          <div style="background:#f0fdf4;border:1px solid #bbf7d0;border-radius:14px;padding:14px 16px;margin-bottom:14px;">
            <div style="display:flex;justify-content:space-between;font-size:12px;color:var(--gray-600);margin-bottom:6px;"><span>Withdrawal</span><span id="wd-summary-amt">‡ß≥0</span></div>
            <div style="display:flex;justify-content:space-between;font-size:12px;color:var(--gray-600);margin-bottom:6px;"><span>‡¶ö‡¶æ‡¶∞‡ßç‡¶ú (‡¶Ü‡¶ú ‡¶´‡ßç‡¶∞‡¶ø üéâ)</span><span style="color:var(--green);font-weight:700;">‡ß≥0</span></div>
            <div style="height:1px;background:#bbf7d0;margin-bottom:8px;"></div>
            <div style="display:flex;justify-content:space-between;font-size:14px;font-weight:800;color:#065f46;"><span>‡¶™‡¶æ‡¶¨‡ßá‡¶®</span><span id="wd-summary-get">‡ß≥0</span></div>
          </div>

          <div style="background:#fffbeb;border:1px solid #fde68a;border-radius:12px;padding:10px 12px;display:flex;gap:8px;">
            <span>‚è±</span>
            <span style="font-size:11px;color:#92400e;line-height:1.6;">bKash/Nagad ‡¶è ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ ‡ß´-‡ßß‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡ßå‡¶Å‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§</span>
          </div>
        </div>

        <div style="position:absolute;bottom:0;left:0;right:0;padding:12px 16px 28px;background:white;border-top:1px solid var(--gray-100);">
          <button onclick="nav('r-earnings',null)" style="width:100%;background:linear-gradient(135deg,var(--green),#059669);color:white;border:none;border-radius:14px;padding:15px;font-size:14px;font-weight:700;cursor:pointer;font-family:'DM Sans',sans-serif;box-shadow:0 4px 16px rgba(16,185,129,0.4);">‚úÖ Withdraw ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </div>

        <script>
          function setWD(v){document.getElementById('r-wd-amt').value=v;updateWD(v);}
          function updateWD(v){var a=parseFloat(v)||0;document.getElementById('wd-summary-amt').textContent='‡ß≥'+a;document.getElementById('wd-summary-get').textContent='‡ß≥'+a;}
          function selectRWD(m){['bkash','nagad'].forEach(function(id){document.getElementById('rwd-'+id).style.border='2px solid var(--gray-200)';document.getElementById('rwd-'+id).style.background='white';document.getElementById('rwd-'+id+'-chk').style.background='var(--gray-200)';document.getElementById('rwd-'+id+'-chk').textContent='';});document.getElementById('rwd-'+m).style.border='2px solid var(--green)';document.getElementById('rwd-'+m).style.background='#f0fdf4';var chk=document.getElementById('rwd-'+m+'-chk');chk.style.background='var(--green)';chk.textContent='‚úì';chk.style.color='white';chk.style.fontSize='10px';chk.style.display='flex';chk.style.alignItems='center';chk.style.justifyContent='center';}
        </script>
      </div>

      <!-- =========================================
           R7b ¬∑ WITHDRAWAL HISTORY (Rider)
           ========================================= -->
      <div class="screen" id="screen-r-wd-history" style="background:var(--gray-50);">
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:44px 18px 20px;flex-shrink:0;">
          <div style="display:flex;align-items:center;gap:12px;">
            <button onclick="nav('r-earnings',null)" style="background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;">‚Äπ</button>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">Withdrawal History</div>
          </div>
        </div>
        <div style="flex:1;overflow-y:auto;padding:16px 16px 30px;scrollbar-width:none;">
          <div style="background:white;border-radius:16px;border:1.5px solid var(--gray-100);overflow:hidden;margin-bottom:12px;">
            <div style="display:flex;align-items:center;gap:12px;padding:14px;border-bottom:1px solid var(--gray-100);">
              <div style="width:40px;height:40px;background:#d1fae5;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;">üí∏</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;">bKash Withdrawal</div><div style="font-size:10px;color:var(--gray-400);">‡¶Ü‡¶ú ¬∑ 8:30 AM</div></div>
              <div style="text-align:right;"><div style="font-family:'Space Grotesk',sans-serif;font-size:14px;font-weight:800;color:var(--green);">‡ß≥500</div><div style="font-size:9px;background:#d1fae5;color:#065f46;padding:2px 6px;border-radius:5px;font-weight:700;">‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®</div></div>
            </div>
            <div style="display:flex;align-items:center;gap:12px;padding:14px;border-bottom:1px solid var(--gray-100);">
              <div style="width:40px;height:40px;background:#d1fae5;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;">üí∏</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;">Nagad Withdrawal</div><div style="font-size:10px;color:var(--gray-400);">‡¶ó‡¶§‡¶ï‡¶æ‡¶≤ ¬∑ 7:00 PM</div></div>
              <div style="text-align:right;"><div style="font-family:'Space Grotesk',sans-serif;font-size:14px;font-weight:800;color:var(--green);">‡ß≥300</div><div style="font-size:9px;background:#d1fae5;color:#065f46;padding:2px 6px;border-radius:5px;font-weight:700;">‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®</div></div>
            </div>
            <div style="display:flex;align-items:center;gap:12px;padding:14px;">
              <div style="width:40px;height:40px;background:#fef3c7;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;">‚è≥</div>
              <div style="flex:1;"><div style="font-size:13px;font-weight:700;">bKash Withdrawal</div><div style="font-size:10px;color:var(--gray-400);">‡ß® ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá ¬∑ 6:00 PM</div></div>
              <div style="text-align:right;"><div style="font-family:'Space Grotesk',sans-serif;font-size:14px;font-weight:800;color:var(--orange);">‡ß≥700</div><div style="font-size:9px;background:#fef3c7;color:#92400e;padding:2px 6px;border-radius:5px;font-weight:700;">‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶ß‡ßÄ‡¶®</div></div>
            </div>
          </div>
        </div>
      </div>

      <!-- =========================================
           R7c ¬∑ SECURITY DEPOSIT INFO (Rider)
           ========================================= -->
      <div class="screen" id="screen-r-deposit-info" style="background:var(--gray-50);">
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:44px 18px 20px;flex-shrink:0;">
          <div style="display:flex;align-items:center;gap:12px;">
            <button onclick="nav('r-earnings',null)" style="background:rgba(255,255,255,0.15);border:none;color:white;border-radius:10px;width:34px;height:34px;cursor:pointer;font-size:18px;">‚Äπ</button>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:800;color:white;">üîí Security Deposit</div>
          </div>
        </div>
        <div style="flex:1;overflow-y:auto;padding:16px 16px 30px;scrollbar-width:none;">
          <!-- Visual breakdown -->
          <div style="background:linear-gradient(135deg,#0c1445,#1d4ed8);border-radius:20px;padding:20px;margin-bottom:14px;color:white;">
            <div style="font-size:11px;color:rgba(255,255,255,0.5);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;">‡¶Æ‡ßã‡¶ü Deposit</div>
            <div style="font-family:'Space Grotesk',sans-serif;font-size:36px;font-weight:800;margin-bottom:16px;">‡ß≥2,000</div>
            <div style="background:rgba(255,255,255,0.08);border-radius:12px;overflow:hidden;margin-bottom:12px;">
              <div style="height:10px;width:50%;background:linear-gradient(90deg,#ef4444,#f97316);border-radius:12px;"></div>
            </div>
            <div style="display:flex;justify-content:space-between;font-size:11px;">
              <div><div style="color:rgba(255,255,255,0.5);">üîí Locked</div><div style="font-weight:800;font-size:16px;margin-top:2px;">‡ß≥1,000</div></div>
              <div style="text-align:right;"><div style="color:rgba(255,255,255,0.5);">‚úÖ Available</div><div style="font-weight:800;font-size:16px;margin-top:2px;">‡ß≥1,000</div></div>
            </div>
          </div>

          <div style="background:white;border-radius:16px;padding:16px;border:1.5px solid var(--gray-100);margin-bottom:12px;">
            <div style="font-size:12px;font-weight:700;color:var(--gray-900);margin-bottom:12px;">üîí Locked ‡¶ï‡ßá‡¶®?</div>
            <div style="font-size:12px;color:var(--gray-600);line-height:1.8;">Minimum ‡ß≥1,000 ‡¶∏‡¶¨‡¶∏‡¶Æ‡¶Ø‡¶º lock ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§ ‡¶è‡¶ü‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡ßÅ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ‡¶®‡ßç‡¶ü‡¶ø ‚Äî ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶≤‡ßá ‡¶è‡¶á ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡ßç‡¶∑‡¶§‡¶ø‡¶™‡ßÇ‡¶∞‡¶£ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡•§<br><br>‡¶≠‡¶æ‡¶≤‡ßã performance ‡¶è lock amount ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§</div>
          </div>

          <div style="background:white;border-radius:16px;padding:16px;border:1.5px solid var(--gray-100);margin-bottom:12px;">
            <div style="font-size:12px;font-weight:700;color:var(--gray-900);margin-bottom:10px;">üìä ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ Status</div>
            <div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--gray-100);font-size:12px;"><span style="color:var(--gray-500);">‡¶Æ‡ßã‡¶ü Task</span><span style="font-weight:700;">247</span></div>
            <div style="display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--gray-100);font-size:12px;"><span style="color:var(--gray-500);">Rating</span><span style="font-weight:700;color:var(--orange);">‚≠ê 4.8</span></div>
            <div style="display:flex;justify-content:space-between;padding:8px 0;font-size:12px;"><span style="color:var(--gray-500);">Deposit ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡ßÅ‡¶Ø‡ßã‡¶ó</span><span style="font-weight:700;color:var(--green);">‡ß¨ ‡¶Æ‡¶æ‡¶∏‡ßá</span></div>
          </div>

          <div style="background:#fffbeb;border:1px solid #fde68a;border-radius:12px;padding:12px 14px;display:flex;gap:8px;">
            <span>üí°</span>
            <span style="font-size:11px;color:#92400e;line-height:1.6;">‡ß´‡ß¶‡ß¶+ task ‡¶è‡¶¨‡¶Ç ‡ß™.‡ß≠+ rating ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ lock amount ‡ß≥‡ß´‡ß¶‡ß¶ ‡¶è ‡¶®‡¶æ‡¶Æ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá‡•§</span>
          </div>
        </div>
      </div>

            <!-- =========================================
           R8 ¬∑ TASK HISTORY
           ========================================= -->
      <div class="screen" id="screen-r-history" style="background:var(--gray-50);">
        <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        <div class="top-nav">
          <button class="nav-btn" onclick="nav('r-home',null)">‚Äπ</button>
          <div class="nav-title">üìã Task History</div>
          <div style="font-size:12px;color:var(--blue);font-weight:700;cursor:pointer;">Filter</div>
        </div>

        <!-- Tabs -->
        <div class="tab-bar">
          <div class="tab-item active" id="rh-all" onclick="switchRH('all')">All</div>
          <div class="tab-item" id="rh-done" onclick="switchRH('done')">Completed</div>
          <div class="tab-item" id="rh-cancelled" onclick="switchRH('cancelled')">Cancelled</div>
        </div>

        <div style="flex:1;overflow-y:auto;padding:14px 0 90px;scrollbar-width:none;">
          <div id="rhc-all">
            <div class="task-card" onclick="nav('r-done',null)">
              <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
                <div><div class="tc-title">üõí Market Run</div><div class="tc-meta">üìç Mohammadpur ‚Üí Dhanmondi ¬∑ Today 10:30</div></div>
                <div class="status-badge badge-done">Done</div>
              </div>
              <div class="tc-bottom"><div class="tc-fee">+‡ß≥80</div><div style="font-size:11px;color:var(--gray-400);">‚≠ê Rated 5/5</div></div>
            </div>
            <div class="task-card">
              <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
                <div><div class="tc-title">üíä Pharmacy Pickup</div><div class="tc-meta">üìç Mirpur-1 ‚Üí Mirpur-10 ¬∑ Today 9:10</div></div>
                <div class="status-badge badge-done">Done</div>
              </div>
              <div class="tc-bottom"><div class="tc-fee">+‡ß≥60</div><div style="font-size:11px;color:var(--gray-400);">‚≠ê Rated 4/5</div></div>
            </div>
            <div class="task-card">
              <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
                <div><div class="tc-title">üéÅ Gift Delivery</div><div class="tc-meta">üìç Banani ‚Üí Uttara ¬∑ Yesterday</div></div>
                <div class="status-badge badge-cancelled">Cancelled</div>
              </div>
              <div class="tc-bottom"><div class="tc-fee" style="color:var(--gray-400);">‡ß≥0</div><div style="font-size:11px;color:var(--gray-400);">Customer cancelled</div></div>
            </div>
            <div class="task-card">
              <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
                <div><div class="tc-title">üìÑ Document Drop</div><div class="tc-meta">üìç Motijheel ‚Üí Gulshan 2 ¬∑ Yesterday</div></div>
                <div class="status-badge badge-done">Done</div>
              </div>
              <div class="tc-bottom"><div class="tc-fee">+‡ß≥150</div><div style="font-size:11px;color:var(--gray-400);">‚≠ê Rated 5/5</div></div>
            </div>
          </div>
          <div id="rhc-done" style="display:none;">
            <div class="task-card"><div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;"><div><div class="tc-title">üõí Market Run</div><div class="tc-meta">Today 10:30 AM</div></div><div class="status-badge badge-done">Done</div></div><div class="tc-bottom"><div class="tc-fee">+‡ß≥80</div><div style="font-size:11px;color:var(--gray-400);">‚≠ê 5/5</div></div></div>
            <div class="task-card"><div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;"><div><div class="tc-title">üìÑ Document Drop</div><div class="tc-meta">Yesterday</div></div><div class="status-badge badge-done">Done</div></div><div class="tc-bottom"><div class="tc-fee">+‡ß≥150</div><div style="font-size:11px;color:var(--gray-400);">‚≠ê 5/5</div></div></div>
          </div>
          <div id="rhc-cancelled" style="display:none;">
            <div class="task-card"><div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;"><div><div class="tc-title">üéÅ Gift Delivery</div><div class="tc-meta">Yesterday ¬∑ Banani ‚Üí Uttara</div></div><div class="status-badge badge-cancelled">Cancelled</div></div><div class="tc-bottom"><div class="tc-fee" style="color:var(--gray-400);">‡ß≥0</div><div style="font-size:12px;color:var(--gray-400);">Customer cancelled</div></div></div>
          </div>
        </div>

        <div class="bottom-nav">
          <div class="bnav-item" onclick="nav('r-home',null)"><div class="bnav-icon">üè†</div><div>Home</div><div class="bnav-dot"></div></div>
          <div class="bnav-item active"><div class="bnav-icon">üìã</div><div style="font-size:9px;font-weight:700;color:var(--blue);">History</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('r-earnings',null)"><div class="bnav-icon">üí∞</div><div>Earnings</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('r-profile',null)"><div class="bnav-icon">üë§</div><div>Profile</div><div class="bnav-dot"></div></div>
        </div>
      </div>

      <!-- =========================================
           R9 ¬∑ RIDER PROFILE
           ========================================= -->
      <div class="screen" id="screen-r-profile" style="background:var(--gray-50);">
        <div style="background:linear-gradient(155deg,#0c1445,#1d4ed8,#06b6d4);padding:50px 24px 24px;text-align:center;flex-shrink:0;border-radius:0 0 36px 36px;">
          <div style="position:relative;display:inline-block;margin-bottom:12px;">
            <div style="width:80px;height:80px;background:rgba(255,255,255,0.15);border:3px solid rgba(255,255,255,0.4);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:40px;margin:0 auto;">üèçÔ∏è</div>
            <button style="position:absolute;bottom:0;right:0;width:26px;height:26px;background:white;border-radius:50%;border:none;cursor:pointer;font-size:12px;">‚úèÔ∏è</button>
          </div>
          <div style="font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:800;color:white;">Mahmud Hasan</div>
          <div style="color:rgba(255,255,255,0.65);font-size:13px;margin-top:3px;">+880 1798 765432</div>
          <!-- Rider Badge -->
          <div style="display:inline-flex;align-items:center;gap:6px;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.25);border-radius:20px;padding:5px 14px;margin-top:10px;font-size:12px;color:white;font-weight:700;">üõµ Verified Rider</div>
          <div style="display:flex;gap:8px;justify-content:center;margin-top:14px;">
            <div style="background:rgba(255,255,255,0.14);border-radius:20px;padding:6px 14px;font-size:12px;color:white;font-weight:600;border:1px solid rgba(255,255,255,0.18);">‚≠ê 4.8 Rating</div>
            <div style="background:rgba(255,255,255,0.14);border-radius:20px;padding:6px 14px;font-size:12px;color:white;font-weight:600;border:1px solid rgba(255,255,255,0.18);">‚úÖ 1,240 Tasks</div>
            <div style="background:rgba(255,255,255,0.14);border-radius:20px;padding:6px 14px;font-size:12px;color:white;font-weight:600;border:1px solid rgba(255,255,255,0.18);">üèÜ Top Rider</div>
          </div>
        </div>

        <div style="flex:1;overflow-y:auto;padding-bottom:90px;scrollbar-width:none;">
          <div class="menu-section">
            <div class="menu-section-title">üèçÔ∏è Vehicle Info</div>
            <div class="menu-item"><div class="mi-icon">üèçÔ∏è</div><div class="mi-label">Honda CD-80 ¬∑ Dhaka-Metro-G-234</div><div class="mi-arrow">‚Ä∫</div></div>
            <div class="menu-item"><div class="mi-icon">üìã</div><div class="mi-label">Documents & License</div><div class="mi-arrow">‚Ä∫</div></div>
          </div>
          <div class="menu-section">
            <div class="menu-section-title">üí≥ Payments</div>
            <div class="menu-item"><div class="mi-icon">üíö</div><div class="mi-label">bKash ‚Äì 017XXXXXXXX</div><div class="mi-arrow">‚Ä∫</div></div>
            <div class="menu-item"><div class="mi-icon">üí∞</div><div class="mi-label">Withdraw Earnings</div><div class="mi-arrow">‚Ä∫</div></div>
          </div>
          <div class="menu-section">
            <div class="menu-section-title">‚öôÔ∏è More</div>
            <div class="menu-item" onclick="nav('r-settings',null)"><div class="mi-icon">‚öôÔ∏è</div><div class="mi-label">Rider Settings</div><div class="mi-arrow">‚Ä∫</div></div>
            <div class="menu-item"><div class="mi-icon">üí¨</div><div class="mi-label">Support</div><div class="mi-arrow">‚Ä∫</div></div>
          </div>
          <button class="logout-btn">üö™ Log Out</button>
        </div>

        <div class="bottom-nav">
          <div class="bnav-item" onclick="nav('r-home',null)"><div class="bnav-icon">üè†</div><div>Home</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('r-history',null)"><div class="bnav-icon">üìã</div><div>History</div><div class="bnav-dot"></div></div>
          <div class="bnav-item" onclick="nav('r-earnings',null)"><div class="bnav-icon">üí∞</div><div>Earnings</div><div class="bnav-dot"></div></div>
          <div class="bnav-item active"><div class="bnav-icon">üë§</div><div style="font-size:9px;font-weight:700;color:var(--blue);">Profile</div><div class="bnav-dot"></div></div>
        </div>
      </div>

      <!-- =========================================
           R10 ¬∑ RIDER SETTINGS
           ========================================= -->
      <div class="screen" id="screen-r-settings" style="background:var(--gray-50);">
        <div class="status-bar"><span>10:41</span><div>üì∂ üîã</div></div>
        <div class="top-nav">
          <button class="nav-btn" onclick="nav('r-profile',null)">‚Äπ</button>
          <div class="nav-title">Rider Settings</div>
          <div style="width:36px;"></div>
        </div>
        <div style="flex:1;overflow-y:auto;padding-bottom:30px;scrollbar-width:none;">
          <div class="setting-group-title">Availability</div>
          <div class="toggle-row" onclick="doToggle(this)">
            <div class="toggle-info"><div class="t-label">üü¢ Auto Accept Tasks</div><div class="t-sub">Automatically accept nearby tasks</div></div>
            <div class="toggle-sw"></div>
          </div>
          <div class="toggle-row" onclick="doToggle(this)">
            <div class="toggle-info"><div class="t-label">üåô Night Tasks</div><div class="t-sub">Receive tasks after 10 PM</div></div>
            <div class="toggle-sw on"></div>
          </div>
          <div class="toggle-row">
            <div class="toggle-info"><div class="t-label">üìç Service Zone</div><div class="t-sub">Mohammadpur & nearby (3 km)</div></div>
            <div style="font-size:12px;color:var(--blue);font-weight:700;cursor:pointer;">Edit</div>
          </div>
          <div class="toggle-row">
            <div class="toggle-info"><div class="t-label">üí∞ Min Task Fee</div><div class="t-sub">Don't show tasks below ‡ß≥50</div></div>
            <div style="font-size:12px;color:var(--blue);font-weight:700;cursor:pointer;">‡ß≥50 ‚Ä∫</div>
          </div>

          <div class="setting-group-title">Notifications</div>
          <div class="toggle-row" onclick="doToggle(this)">
            <div class="toggle-info"><div class="t-label">üì≥ Task Alerts</div><div class="t-sub">Vibrate on new task request</div></div>
            <div class="toggle-sw on"></div>
          </div>
          <div class="toggle-row" onclick="doToggle(this)">
            <div class="toggle-info"><div class="t-label">üí¨ Chat Notifications</div><div class="t-sub">Messages from customers</div></div>
            <div class="toggle-sw on"></div>
          </div>
          <div class="toggle-row" onclick="doToggle(this)">
            <div class="toggle-info"><div class="t-label">üí∞ Payment Alerts</div><div class="t-sub">Earning and withdrawal updates</div></div>
            <div class="toggle-sw on"></div>
          </div>

          <div class="setting-group-title">Navigation</div>
          <div class="toggle-row">
            <div class="toggle-info"><div class="t-label">üó∫Ô∏è Default Map App</div><div class="t-sub">Google Maps selected</div></div>
            <div style="font-size:12px;color:var(--blue);font-weight:700;cursor:pointer;">Change ‚Ä∫</div>
          </div>

          <div class="setting-group-title">Language</div>
          <div class="toggle-row">
            <div class="toggle-info"><div class="t-label">üåê App Language</div><div class="t-sub">English selected</div></div>
            <div style="display:flex;gap:8px;">
              <div style="background:var(--blue-mid);color:white;border-radius:20px;padding:5px 12px;font-size:12px;font-weight:700;cursor:pointer;">English</div>
              <div style="background:var(--gray-100);color:var(--gray-500);border-radius:20px;padding:5px 12px;font-size:12px;font-weight:600;cursor:pointer;">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</div>
            </div>
          </div>
          <div style="text-align:center;padding:20px 16px;font-size:11px;color:var(--gray-300);font-weight:500;">Tasko Rider v1.0.0 ¬∑ Made with ‚ù§Ô∏è in Bangladesh</div>
        </div>
      </div>

    </div><!-- /phone-screen - RIDER END -->
  </div><!-- /phone-frame -->

</div><!-- /phone-wrapper -->

<script>
  // Current role tracker
  let currentRole = 'customer';

  // Auto advance splash after 2.5s ‚Üí Role Selection
  setTimeout(() => { nav('role', null); }, 2500);

  // nav() is defined below in RIDER FUNCTIONS section
  // (includes timer logic for r-alert screen)

  // Role Selection ‚Üí go to Login with correct badge
  function setRole(role) {
    currentRole = role;
    const emoji = role === 'customer' ? 'üôã Customer' : 'üõµ Rider';
    const loginBadge = document.getElementById('login-role-badge');
    const signupBadge = document.getElementById('signup-role-badge');
    if (loginBadge) loginBadge.textContent = emoji;
    if (signupBadge) signupBadge.textContent = emoji;
    nav('login', null);
  }

  // Switch between Sign In / Sign Up tabs on login screen
  function switchAuthTab(tab) {
    if (tab === 'signup') {
      nav('signup', null);
    } else {
      nav('login', null);
    }
  }

  // ‚îÄ‚îÄ Shared OTP initializer (scoped to a specific container) ‚îÄ‚îÄ
  function initOTP(containerId, revealId) {
    const s = document.getElementById(revealId);
    if (s) {
      s.classList.add('show');
      setTimeout(() => s.scrollIntoView({ behavior: 'smooth', block: 'center' }), 50);
    }
    const container = document.getElementById(containerId);
    if (!container) return;
    const boxes = Array.from(container.querySelectorAll('.otp-box'));

    boxes.forEach((box, i) => {
      if (box.dataset.otpInit) return;
      box.dataset.otpInit = '1';

      box.setAttribute('inputmode', 'numeric');
      box.setAttribute('maxlength', '1');
      box.setAttribute('type', 'tel');

      box.addEventListener('focus', () => {
        setTimeout(() => {
          box.setSelectionRange(box.value.length, box.value.length);
        }, 0);
      });

      box.addEventListener('input', () => {
        const val = box.value.replace(/[^0-9]/g, '');
        box.value = val.charAt(0) || '';
        if (val) {
          if (i < boxes.length - 1) boxes[i + 1].focus();
        } else {
          if (i > 0) boxes[i - 1].focus();
        }
      });
    });

    setTimeout(() => boxes[0] && boxes[0].focus(), 300);
  }

  // Signup OTP: Phone ‚Üí OTP screen on Signup page
  function showSignupOTP() {
    initOTP('signup-otp-section', 'signup-otp-section');
  }

  // Login page OTP (legacy ‚Äî kept for any future use)
  function showOTP() {
    initOTP('otp-section', 'otp-section');
  }

  // Forgot Password steps
  function showFPOTP() {
    document.getElementById('fp-step1').style.display = 'none';
    document.getElementById('fp-step2').style.display = 'block';
    initOTP('fp-step2', null);
  }
  function showFPReset() {
    document.getElementById('fp-step2').style.display = 'none';
    document.getElementById('fp-step3').style.display = 'block';
  }
  function showFPSuccess() {
    document.getElementById('fp-step3').style.display = 'none';
    document.getElementById('fp-step4').style.display = 'block';
  }

  function showHam() {
    document.getElementById('ham-overlay').classList.add('open');
    document.getElementById('ham-panel').classList.add('open');
  }

  function closeHam() {
    document.getElementById('ham-overlay').classList.remove('open');
    document.getElementById('ham-panel').classList.remove('open');
  }

  function pickTime(t) {
    document.getElementById('t-now').classList.toggle('selected', t === 'now');
    document.getElementById('t-later').classList.toggle('selected', t === 'later');
    document.getElementById('picker').style.display = t === 'later' ? 'block' : 'none';
  }

  function switchTab(name) {
    ['running','completed','cancelled'].forEach(n => {
      document.getElementById('tb-'+n).classList.toggle('active', n === name);
      document.getElementById('tc-'+n).style.display = n === name ? 'block' : 'none';
    });
  }

  function rateStar(n) {
    document.querySelectorAll('#stars .star').forEach((s,i) => {
      s.classList.toggle('active', i < n);
    });
  }

  function selectTip(el) {
    document.querySelectorAll('.tip-chip').forEach(c => c.classList.remove('active'));
    el.classList.add('active');
  }

  function doToggle(row) {
    const sw = row.querySelector('.toggle-sw');
    if (sw) sw.classList.toggle('on');
  }

  // ‚îÄ‚îÄ RIDER FUNCTIONS ‚îÄ‚îÄa

  // Online/Offline toggle on Rider Home
  function toggleOnline(wrap) {
    const tog = document.getElementById('online-toggle');
    const lbl = document.getElementById('online-label');
    const isOn = tog.style.background === 'rgb(16, 185, 129)' || tog.style.background === '#10b981';
    if (isOn) {
      tog.style.background = '#94a3b8';
      tog.querySelector('div').style.transform = 'translateX(0px)';
      lbl.textContent = 'üî¥ You\'re Offline';
    } else {
      tog.style.background = '#10b981';
      tog.querySelector('div').style.transform = 'translateX(24px)';
      lbl.textContent = 'üü¢ You\'re Online';
    }
  }

  // Earnings period switch
  function switchEP(period) {
    ['today','week','month'].forEach(p => {
      const el = document.getElementById('ep-'+p);
      if (!el) return;
      if (p === period) {
        el.style.background = 'white';
        el.style.color = 'var(--blue)';
        el.style.fontWeight = '700';
        el.style.boxShadow = '0 2px 8px rgba(0,0,0,0.08)';
      } else {
        el.style.background = 'transparent';
        el.style.color = 'var(--gray-400)';
        el.style.fontWeight = '600';
        el.style.boxShadow = 'none';
      }
    });
  }

  // Rider History tabs
  function switchRH(name) {
    ['all','done','cancelled'].forEach(n => {
      const tb = document.getElementById('rh-'+n);
      const tc = document.getElementById('rhc-'+n);
      if (tb) tb.classList.toggle('active', n === name);
      if (tc) tc.style.display = n === name ? 'block' : 'none';
    });
  }

  // Task Alert countdown timer
  let rTimerVal = 15;
  let rTimerInterval = null;
  function startRTimer() {
    clearInterval(rTimerInterval);
    rTimerVal = 15;
    const el = document.getElementById('r-timer');
    if (!el) return;
    el.textContent = rTimerVal;
    rTimerInterval = setInterval(() => {
      rTimerVal--;
      if (el) el.textContent = rTimerVal;
      if (rTimerVal <= 0) {
        clearInterval(rTimerInterval);
        nav('r-home', null);
      }
    }, 1000);
  }

  // Start timer when r-alert screen becomes active
  const origNav = nav;
  var cWalletTimer = null, rWalletTimer = null;
  function toggleCWallet() {
    var v = document.getElementById('c-wallet-val');
    if (!v) return;
    if (v.textContent !== '‚Ä¢‚Ä¢‚Ä¢‚Ä¢') { v.textContent = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢'; clearTimeout(cWalletTimer); return; }
    v.textContent = '‡ß≥1,250';
    clearTimeout(cWalletTimer);
    cWalletTimer = setTimeout(function(){ v.textContent = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢'; }, 4000);
  }
  function toggleRWallet() {
    var v = document.getElementById('r-wallet-val');
    if (!v) return;
    if (v.textContent !== '‚Ä¢‚Ä¢‚Ä¢‚Ä¢') { v.textContent = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢'; clearTimeout(rWalletTimer); return; }
    v.textContent = '‡ß≥1,840';
    clearTimeout(rWalletTimer);
    rWalletTimer = setTimeout(function(){ v.textContent = '‚Ä¢‚Ä¢‚Ä¢‚Ä¢'; }, 4000);
  }

  function nav(screenId, btn) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    const t = document.getElementById('screen-' + screenId);
    if (t) t.classList.add('active');
    document.querySelectorAll('.sn-btn').forEach(b => b.classList.remove('active'));
    const match = document.querySelector('.sn-btn[data-screen="' + screenId + '"]');
    if (match) match.classList.add('active');
    else if (btn) btn.classList.add('active');
    if (screenId === 'r-alert') startRTimer();
    else clearInterval(rTimerInterval);
  }
</script>
</body>
<</html>
<<tag>
  <!--Tab to edit-->
</tag>>
  <!--Tab to edit-->
</<tag>
  <!--Tab to edit-->
</tag>>>
  <!--Tab to edit-->
</</html>
>